version: "3.8"

services:
  gama_ui:
    image: ghcr.io/greenroom-robotics/gama_ui_educat:${GAMA_VERSION:-latest}
    build:
      context: ./projects/gama_ui
      args:
        VITE_GAMA_VARIANT: educat
    environment:
      VITE_GAMA_VARIANT: educat

  gama_vessel:
    image: ghcr.io/greenroom-robotics/gama_vessel_educat:${GAMA_VERSION:-latest}
    build:
      dockerfile: projects/gama_vessel/Dockerfile
      args:
        - PACKAGE_NAME=educat_bringup
    environment:
      - LOG_STALE_MINUTES=43800 # in minutes
    command: ./scripts/launch.sh educat_bringup vessel.launch.py ${GAMA_VESSEL_COMMAND_ARGS:-}

  gama_docs:
    environment:
      GAMA_VARIANT: educat