<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Search &mdash; repytah 0.1.2 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Function Pipeline" href="function_pipeline.html" />
    <link rel="prev" title="Assemble" href="assemble_import.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/repytah_logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">Why repytah</a></li>
<li class="toctree-l1"><a class="reference internal" href="recommended_installation.html">Installing from <cite>conda</cite> package-manager or from <cite>pip</cite></a></li>
<li class="toctree-l1"><a class="reference internal" href="general_installation.html">Install from <cite>pip</cite> or <cite>conda</cite></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="utilities_import.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform_import.html">Transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="assemble_import.html">Assemble</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Search</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Implementation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="function_pipeline.html">Function Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">A Quick Start to Use the Package <code class="docutils literal notranslate"><span class="pre">repytah</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="example_vignette.html">Example of Creating Aligned Hierarchies for a Mazurka Score</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">repytah</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Search</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/search_import.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-repytah.search">
<span id="search"></span><h1>Search<a class="headerlink" href="#module-repytah.search" title="Permalink to this heading"></a></h1>
<p>search.py</p>
<p>This module holds functions used to find and record the diagonals in the
thresholded matrix, T. These functions prepare the diagonals found for
transformation and assembling later.
The module contains the following functions:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>find_complete_list</dt><dd><p>Finds all smaller diagonals (and the associated pairs of repeats)
that are contained in pair_list, which is composed of larger diagonals
found in find_initial_repeats.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>__find_add_rows</dt><dd><p>Finds pairs of repeated structures, represented as diagonals of a
certain length, k, that neither start nor end at the same time steps
as previously found pairs of repeated structures of the same length.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>find_all_repeats</dt><dd><p>Finds all the diagonals present in thresh_mat. This function is nearly
identical to find_initial_repeats except for two crucial differences.
First, we do not remove diagonals after we find them. Second, there is
no smallest bandwidth size as we are looking for all diagonals.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>find_complete_list_anno_only</dt><dd><p>Finds annotations for all pairs of repeats found in find_all_repeats.
This list contains all the pairs of repeated structures with their
starting/ending indices and lengths.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="repytah.search.find_complete_list">
<span class="sig-prename descclassname"><span class="pre">repytah.search.</span></span><span class="sig-name descname"><span class="pre">find_complete_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">song_length</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#repytah.search.find_complete_list" title="Permalink to this definition"></a></dt>
<dd><p>Finds all smaller diagonals (and the associated pairs of repeats) that are
contained in pair_list, which is composed of larger diagonals found in
find_initial_repeats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair_list</strong> (<em>np.ndarray</em>) – List of pairs of repeats found in earlier steps
(bandwidths MUST be in ascending order). If you have run
find_initial_repeats before this script, then pair_list will be
ordered correctly.</p></li>
<li><p><strong>song_length</strong> (<em>int</em>) – Song length, which is the number of audio shingles.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of pairs of repeats with smaller repeats added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>final_lst (np.ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="repytah.search.__find_add_rows">
<span class="sig-prename descclassname"><span class="pre">repytah.search.</span></span><span class="sig-name descname"><span class="pre">__find_add_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst_no_anno</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_inds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#repytah.search.__find_add_rows" title="Permalink to this definition"></a></dt>
<dd><p>Finds pairs of repeated structures, represented as diagonals of a certain
length, k, that that start at the same time step, or end at the same time
step, or neither start nor end at the same time step as previously found
pairs of repeated structures of the same length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lst_no_anno</strong> (<em>np.ndarray</em>) – List of pairs of repeats.</p></li>
<li><p><strong>check_inds</strong> (<em>np.ndarray</em>) – List of starting indices for repeats of length k that we use to
check lst_no_anno for more repeats of length k.</p></li>
<li><p><strong>k</strong> (<em>int</em>) – Length of repeats that we are looking for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of newly found pairs of repeats of length K that are
contained in larger repeats in lst_no_anno.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>add_rows (np.ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="repytah.search.find_all_repeats">
<span class="sig-prename descclassname"><span class="pre">repytah.search.</span></span><span class="sig-name descname"><span class="pre">find_all_repeats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thresh_mat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bw_vec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#repytah.search.find_all_repeats" title="Permalink to this definition"></a></dt>
<dd><p>Finds all the diagonals present in thresh_mat. This function is nearly
identical to find_initial_repeats, with two crucial differences.
First, we do not remove diagonals after we find them. Second,
there is no smallest bandwidth size as we are looking for all diagonals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thresh_mat</strong> (<em>np.ndarray</em>) – Thresholded matrix that we extract diagonals from.</p></li>
<li><p><strong>bw_vec</strong> (<em>np.ndarray</em>) – Vector of lengths of diagonals to be found.
Should be 1, 2, 3, …, n where n = number of timesteps.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pairs of repeats that correspond to diagonals in thresh_mat.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>all_lst (np.ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="repytah.search.find_complete_list_anno_only">
<span class="sig-prename descclassname"><span class="pre">repytah.search.</span></span><span class="sig-name descname"><span class="pre">find_complete_list_anno_only</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">song_length</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#repytah.search.find_complete_list_anno_only" title="Permalink to this definition"></a></dt>
<dd><p>Finds annotations for all pairs of repeats found in find_all_repeats.
This list contains all the pairs of repeated structures with their
starting/ending indices and lengths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair_list</strong> (<em>np.ndarray</em>) – List of pairs of repeats.
WARNING: Bandwidths must be in ascending order.</p></li>
<li><p><strong>song_length</strong> (<em>int</em>) – Number of audio shingles in song.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of pairs of repeats with smaller repeats added and with
annotation markers.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>out_lst (np.ndarray)</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="assemble_import.html" class="btn btn-neutral float-left" title="Assemble" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="function_pipeline.html" class="btn btn-neutral float-right" title="Function Pipeline" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, repytah development team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>