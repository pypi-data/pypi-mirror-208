"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_events_tsx-app_views_sharedGroupDetails_index_tsx"],{"./app/actionCreators/events.tsx":(e,t,s)=>{s.d(t,{A5:()=>Z,JE:()=>h,MD:()=>x,eV:()=>g,lI:()=>m});var n=s("../node_modules/lodash/pick.js"),o=s.n(n),r=s("./app/actionCreators/indicator.tsx"),a=s("./app/components/charts/utils.tsx"),i=s("./app/locale.tsx"),p=s("./app/utils/getPeriod.tsx"),l=s("./app/utils/performance/constants.tsx"),d=s("./app/utils/queryClient.tsx"),c=s("./app/utils/useApi.tsx"),u=s("./app/utils/useOrganization.tsx");const m=(e,t)=>{let{organization:s,project:n,environment:o,team:r,period:i,start:l,end:d,interval:c,comparisonDelta:u,includePrevious:m,query:g,yAxis:h,field:v,topEvents:x,orderby:Z,partial:y,withoutZerofill:b,referrer:f,queryBatching:j,generatePathname:S,queryExtras:w,excludeOther:D,includeAllArgs:E,dataset:z}=t;const I=S?.(s)??`/organizations/${s.slug}/events-stats/`,N=(0,a.Sw)(m,i),k={includeAllArgs:E,query:{...Object.fromEntries(Object.entries({interval:c,comparisonDelta:u,project:n,environment:o,team:r,query:g,yAxis:h,field:v,topEvents:x,orderby:Z,partial:y?"1":void 0,withoutZerofill:b?"1":void 0,referrer:f||"api.organization-event-stats",excludeOther:D?"1":void 0,dataset:z}).filter((e=>{let[,t]=e;return void 0!==t}))),...(0,p.X)({period:i,start:l,end:d},{shouldDoublePeriod:N}),...w}};return j?.batchRequest?j.batchRequest(e,I,k):e.requestPromise(I,k)};function g(e,t,s){const n={...o()(s,Object.values(l.s)),query:s.query};return e.requestPromise(`/organizations/${t}/events-facets/`,{query:n})}function h(e,t,s){const n={...o()(s,Object.values(l.s)),query:s.query};return e.requestPromise(`/organizations/${t}/events-meta/`,{query:n}).then((e=>e.count))}const v=e=>{let{orgSlug:t,projectSlug:s,eventId:n}=e;return[`/projects/${t}/${s}/events/${n}/attachments/`]},x=function(e){let{orgSlug:t,projectSlug:s,eventId:n}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(0,u.Z)();return(0,d.WE)([`/projects/${t}/${s}/events/${n}/attachments/`],{staleTime:1/0,...o,enabled:(r.features?.includes("event-attachments")??!1)&&!1!==o.enabled})},Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,c.Z)({persistInFlight:!0}),s=(0,d.NL)(),n={...e,mutationFn:e=>{let{orgSlug:s,projectSlug:n,eventId:o,attachmentId:r}=e;return t.requestPromise(`/projects/${s}/${n}/events/${o}/attachments/${r}/`,{method:"DELETE"})},onMutate:async t=>{await s.cancelQueries(v(t));const n=(0,d.nE)(s,v(t));return(0,d.XN)(s,v(t),(e=>Array.isArray(e)?e.filter((e=>e?.id!==t.attachmentId)):e)),e.onMutate?.(t),{previous:n}},onError:(t,n,o)=>{(0,r.Iw)((0,i.t)("An error occurred while deleting the attachment")),o&&(0,d.XN)(s,v(n),o.previous),e.onError?.(t,n,o)}};return(0,d.Db)(n)}},"./app/components/events/errorLevel.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const o="13px",r=(0,n.Z)("span",{target:"efr73n80"})("padding:0;position:relative;width:",(e=>e.size||o),";height:",(e=>e.size||o),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.level?e.theme.level[e.level]:e.theme.level.error),";")},"./app/components/events/eventEntries.tsx":(e,t,s)=>{s.d(t,{j:()=>q});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),r=s("./app/components/commitRow.tsx"),a=s("./app/components/events/eventEvidence.tsx"),i=s("./app/locale.tsx"),p=s("./app/styles/space.tsx"),l=s("./app/types/utils.tsx"),d=s("./app/utils.tsx"),c=s("./app/components/events/contexts/index.tsx"),u=s("./app/components/events/device.tsx"),m=s("./app/components/events/eventAttachments.tsx"),g=s("./app/components/events/eventCause.tsx"),h=s("./app/components/events/eventDataSection.tsx"),v=s("./app/components/events/eventEntry.tsx"),x=s("./app/components/events/eventErrors.tsx"),Z=s("./app/components/events/eventExtraData/index.tsx"),y=s("./app/components/events/eventSdk.tsx"),b=s("./app/components/events/eventTagsAndScreenshot/index.tsx"),f=s("./app/components/events/eventViewHierarchy.tsx"),j=s("./app/components/events/groupingInfo/index.tsx"),S=s("./app/components/events/packageData.tsx"),w=s("./app/components/events/rrwebIntegration.tsx"),D=s("./app/components/events/styles.tsx"),E=s("./app/components/events/userFeedback.tsx"),z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function I(e){let{organization:t,project:s,location:n,event:o,group:p,className:v,isShare:D=!1,showTagSummary:I=!0}=e;const q=t.slug,_=s.slug,A=t?.features??[];if(!o)return(0,z.tZ)(k,{children:(0,z.tZ)("h3",{children:(0,i.t)("Latest Event Not Available")})});const C=!(0,d.z)(o.user??{})||!(0,d.z)(o.contexts);return(0,z.BX)("div",{className:v,children:[(0,z.tZ)(x.T,{event:o,project:s,isShare:D}),!D&&(0,l.V1)(t)&&(0,z.tZ)(g.i,{project:s,eventId:o.id,group:p,commitRow:r.y}),o.userReport&&p&&(0,z.tZ)(h.S,{title:"User Feedback",type:"user-feedback",children:(0,z.tZ)(E.o,{report:o.userReport,orgId:q,issueId:p.id})}),I&&(0,z.tZ)(b.A,{event:o,organization:t,projectSlug:_,location:n,isShare:D}),(0,z.tZ)(a.q,{event:o,projectSlug:s.slug}),(0,z.tZ)(N,{definedEvent:o,projectSlug:_,group:p,organization:t,isShare:D}),C&&(0,z.tZ)(c.C,{group:p,event:o}),(0,z.tZ)(Z.Q,{event:o}),(0,z.tZ)(S.K,{event:o}),(0,z.tZ)(u.E,{event:o}),!D&&(0,z.tZ)(f.E,{event:o,project:s}),!D&&(0,z.tZ)(m.z,{event:o,projectSlug:_}),(0,z.tZ)(y.C,{sdk:o.sdk,meta:o._meta?.sdk}),!D&&o.groupID&&(0,z.tZ)(j.c,{projectSlug:_,event:o,showGroupingConfig:A.includes("set-grouping-config")&&"groupingConfig"in o,group:p}),!D&&(0,z.tZ)(w.g,{event:o,orgId:q,projectSlug:_})]})}function N(e){let{definedEvent:t,projectSlug:s,isShare:n,group:r,organization:a}=e;return Array.isArray(t.entries)?(0,z.tZ)(o.Fragment,{children:t.entries.map(((e,o)=>(0,z.tZ)(v.c,{projectSlug:s,group:r,organization:a,event:t,entry:e,isShare:n},o)))}):null}I.displayName="EventEntries",N.displayName="Entries";const k=(0,n.Z)("div",{target:"e17asnrm1"})("padding:",(0,p.D)(2)," ",(0,p.D)(4),";"),q=(0,n.Z)(I,{target:"e17asnrm0"})("& ",D.Gj,"{margin-left:0!important;margin-right:0!important;padding:",(0,p.D)(3)," 0 0 0;}& ",D.Gj,":first-child{padding-top:0;border-top:0;}")},"./app/components/events/eventMessage.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/events/errorLevel.tsx"),r=s("./app/styles/space.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=(0,n.Z)((e=>{let{className:t,level:s,levelIndicatorSize:n,message:r,annotations:i}=e;return(0,a.BX)("div",{className:t,children:[s&&(0,a.tZ)(o.Z,{size:n,level:s,children:s}),r&&(0,a.tZ)(p,{children:r}),i]})}),{target:"e1ms02k71"})("display:flex;gap:",(0,r.D)(1),";align-items:center;position:relative;line-height:1.2;overflow:hidden;"),p=(0,n.Z)("span",{target:"e1ms02k70"})((e=>e.theme.overflowEllipsis)," width:auto;max-height:38px;"),l=i},"./app/utils/getPeriod.tsx":(e,t,s)=>{s.d(t,{X:()=>i}),s("../node_modules/core-js/modules/es.error.cause.js");var n=s("../node_modules/moment/moment.js"),o=s.n(n),r=s("./app/constants/index.tsx"),a=s("./app/utils/dates.tsx");function i(e){let{period:t,start:s,end:n}=e,{shouldDoublePeriod:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t||s||n||(t=r.GY),t){if(!i)return{statsPeriod:t};const[,e,s]=t.match(/([0-9]+)([mhdw])/);return{statsPeriod:`${2*parseInt(e,10)}${s}`}}if(!s||!n)throw new Error("start and end required");const p=(0,a.v5)(s),l=(0,a.v5)(n);if(i){const e=o()(n).diff(o()(s)),t=o()(s).subtract(e);return{start:(0,a.v5)(t),end:l}}return{start:p,end:l}}},"./app/views/sharedGroupDetails/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{SharedGroupDetails:()=>_,default:()=>C});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),a=s("./app/components/errors/notFound.tsx"),i=s("./app/components/events/eventEntries.tsx"),p=s("./app/components/footer.tsx"),l=s("./app/components/links/link.tsx"),d=s("./app/components/loadingError.tsx"),c=s("./app/components/loadingIndicator.tsx"),u=s("./app/components/sentryDocumentTitle.tsx"),m=s("./app/locale.tsx"),g=s("./app/sentryTypes.tsx"),h=s("./app/styles/space.tsx"),v=s("./app/utils/withApi.tsx"),x=s("./app/views/organizationContext.tsx"),Z=s("./app/components/events/eventMessage.tsx"),y=s("./app/components/featureBadge.tsx"),b=s("./app/components/idBadge/projectBadge.tsx"),f=s("./app/components/shortId.tsx"),j=s("./app/types/index.tsx"),S=s("./app/views/issueDetails/unhandledTag.tsx"),w=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function D(e){let{group:t}=e;return(0,w.tZ)(z,{children:(0,w.BX)(I,{children:[(0,w.BX)(k,{children:[(0,w.tZ)(q,{children:t.title}),(0,w.BX)(N,{children:[(0,w.tZ)(f.Z,{shortId:t.shortId,avatar:(0,w.tZ)(b.Z,{project:t.project,avatarSize:20,hideName:!0})}),t.issueCategory===j.qE.PERFORMANCE&&(0,w.tZ)(y.Z,{type:"beta",title:(0,m.t)("Not all features have been implemented for shared Performance Issues and these issues may be missing context.")})]})]}),(0,w.BX)(S.S,{children:[t.isUnhandled&&(0,w.tZ)(S.Z,{}),(0,w.tZ)(Z.Z,{message:t.culprit})]})]})})}D.displayName="SharedGroupHeader";const E=D,z=(0,o.Z)("div",{target:"ecbpaa24"})("padding:",(0,h.D)(3)," ",(0,h.D)(4)," ",(0,h.D)(3)," ",(0,h.D)(4),";border-bottom:1px solid ",(e=>e.theme.border),";position:relative;"),I=(0,o.Z)("div",{target:"ecbpaa23"})({name:"5eha28",styles:"max-width:960px;margin:0 auto"}),N=(0,o.Z)("div",{target:"ecbpaa22"})({name:"zjik7",styles:"display:flex"}),k=(0,o.Z)("div",{target:"ecbpaa21"})("display:grid;grid-template-columns:1fr max-content;align-items:center;margin-bottom:",(0,h.D)(1),";"),q=(0,o.Z)("h3",{target:"ecbpaa20"})("color:",(e=>e.theme.headingColor),";font-size:",(e=>e.theme.fontSizeExtraLarge),";line-height:",(e=>e.theme.text.lineHeightHeading),";margin-right:",(0,h.D)(2),";margin-bottom:0;",(e=>e.theme.overflowEllipsis),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){font-size:",(e=>e.theme.headerFontSize),";}");class _ extends r.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",this.getInitialState()),(0,n.Z)(this,"handleRetry",(()=>{this.setState(this.getInitialState()),this.fetchData()}))}getInitialState(){return{group:null,loading:!0,error:!1}}getChildContext(){return{group:this.state.group}}componentWillMount(){document.body.classList.add("shared-group")}componentDidMount(){this.fetchData()}componentWillUnmount(){document.body.classList.remove("shared-group")}orgSlug(){const{params:e}=this.props;if(e.orgId)return e.orgId;const{customerDomain:t}=window.__initialData||{};return t?.subdomain?t.subdomain:null}async fetchData(){const{params:e,api:t}=this.props,{shareId:s}=e,n=this.orgSlug();try{if(n){const e=await t.requestPromise(`/organizations/${n}/shared/issues/${s}/`);this.setState({loading:!1,group:e})}else{const e=await t.requestPromise(`/shared/issues/${s}/`);this.setState({loading:!1,group:e})}}catch{this.setState({loading:!1,error:!0})}}getTitle(){const{group:e}=this.state;return e?.title??"Sentry"}render(){const{group:e,loading:t,error:s}=this.state;if(t)return(0,w.tZ)(c.Z,{});if(!e)return(0,w.tZ)(a.Z,{});if(s)return(0,w.tZ)(d.Z,{onRetry:this.handleRetry});const{location:n}=this.props,{permalink:o,latestEvent:r,project:g}=e,h=this.getTitle(),v={...g.organization,features:[]};return(0,w.tZ)(u.Z,{noSuffix:!0,title:h,children:(0,w.tZ)(x.g.Provider,{value:v,children:(0,w.BX)("div",{className:"app",children:[(0,w.tZ)("div",{className:"pattern-bg"}),(0,w.tZ)("div",{className:"container",children:(0,w.BX)("div",{className:"box box-modal",children:[(0,w.BX)("div",{className:"box-header",children:[(0,w.tZ)(l.Z,{className:"logo",to:"/",children:(0,w.tZ)("span",{className:"icon-sentry-logo-full"})}),o&&(0,w.tZ)(l.Z,{className:"details",to:o,children:(0,m.t)("Details")})]}),(0,w.BX)("div",{className:"box-content",children:[(0,w.tZ)(E,{group:e}),(0,w.tZ)(A,{className:"group-overview event-details-container",children:(0,w.tZ)(i.j,{location:n,organization:v,group:e,event:r,project:g,isShare:!0})}),(0,w.tZ)(p.Z,{})]})]})})]})})})}}_.displayName="SharedGroupDetails",(0,n.Z)(_,"childContextTypes",{group:g.Z.Group});const A=(0,o.Z)("div",{target:"ehmszvx0"})("padding:",(0,h.D)(4),";"),C=(0,v.Z)(_)}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_events_tsx-app_views_sharedGroupDetails_index_tsx.dfbd0232634afc9b1187673204fb10bd.js.map