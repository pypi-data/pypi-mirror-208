(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_charts_areaChart_tsx-app_components_charts_chartZoom_tsx-app_components_charts-78165e"],{"./app/components/charts/areaChart.tsx":(t,e,o)=>{"use strict";o.d(e,{T:()=>i});var n=o("./app/components/charts/series/lineSeries.tsx"),s=o("./app/components/charts/baseChart.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(t){let{series:e,stacked:o,colors:i,...a}=t;return(0,r.tZ)(s.Z,{...a,"data-test-id":"area-chart",colors:i,series:e.map(((t,e)=>{let{seriesName:s,data:r,...a}=t;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.Z)({...t})}({stack:o?"area":void 0,name:s,data:r.map((t=>{let{name:e,value:o}=t;return[e,o]})),lineStyle:{color:i?.[e],opacity:1,width:.4},areaStyle:{color:i?.[e],opacity:1},animation:!1,animationThreshold:1,animationDuration:0,...a})}))})}i.displayName="AreaChart"},"./app/components/charts/chartZoom.tsx":(t,e,o)=>{"use strict";o.d(e,{Z:()=>v});var n=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(o("../node_modules/core-js/modules/es.array.push.js"),o("../node_modules/react/index.js")),r=o("../node_modules/moment/moment.js"),i=o.n(r),a=o("../node_modules/query-string/index.js"),d=o("./app/actionCreators/pageFilters.tsx"),c=o("./app/components/charts/components/dataZoomInside.tsx");o("../node_modules/echarts/lib/component/dataZoomSlider.js");const p={realtime:!1,showDetail:!1,left:0,right:6,bottom:8};function l(t){return t&&Array.isArray(t)?t:[{...p,...t}]}var u=o("./app/components/charts/components/toolBox.tsx"),h=o("./app/utils/callIfFunction.tsx"),m=o("./app/utils/dates.tsx");const y=t=>t?i().utc(t).format(i().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class f extends s.Component{constructor(t){var e;super(t),e=this,(0,n.Z)(this,"history",void 0),(0,n.Z)(this,"currentPeriod",void 0),(0,n.Z)(this,"zooming",null),(0,n.Z)(this,"saveCurrentPeriod",(t=>{this.currentPeriod={period:t.period,start:y(t.start),end:y(t.end)}})),(0,n.Z)(this,"setPeriod",(function(t){let{period:o,start:n,end:s}=t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:i,onZoom:c,usePageDate:p}=e.props,l=y(n),u=y(s);r&&e.history.push(e.currentPeriod),c?.({period:o,start:l,end:u}),e.zooming=()=>{if(p&&i){const t={...i.location.query,pageStart:n?(0,m.v5)(n):void 0,pageEnd:s?(0,m.v5)(s):void 0,pageStatsPeriod:o??void 0};a.stringify(t)!==a.stringify(i.location.query)&&i.push({pathname:i.location.pathname,query:t})}else(0,d.dR)({period:o,start:l?(0,m.hC)(l):l,end:u?(0,m.hC)(u):u},i,{skipDesyncUpdate:!0});e.saveCurrentPeriod({period:o,start:n,end:s})}})),(0,n.Z)(this,"handleChartReady",(t=>{this.props.onChartReady?.(t)})),(0,n.Z)(this,"handleZoomRestore",((t,e)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],this.props.onRestore?.(t,e))})),(0,n.Z)(this,"handleDataZoom",((t,e)=>{const o=e.getModel(),{startValue:n,endValue:s}=o._payload.batch[0];if(null===n&&null===s){const t=this.history.pop();if(!t)return;this.setPeriod(t)}else{const t=i().utc(n),e=i().utc(s);this.setPeriod({period:null,start:t,end:e},!0)}this.props.onDataZoom?.(t,e)})),(0,n.Z)(this,"handleChartFinished",((t,e)=>{"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const o=e._componentsViews?.find((t=>t._features&&t._features.dataZoom));o&&!o._features.dataZoom._isZoomActive&&e.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,h.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(t)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:t,start:e,end:o,disabled:n,children:s,xAxisIndex:r,router:i,onZoom:a,onRestore:d,onChartReady:p,onDataZoom:h,onFinished:y,showSlider:f,chartZoomOptions:v,...x}=this.props,Z=t??void 0,g=e?(0,m.hC)(e):void 0,b=o?(0,m.hC)(o):void 0;return s(n?{utc:Z,start:g,end:b,...x}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:Z,start:g,end:b,dataZoom:f?[...l({xAxisIndex:r,...v}),...(0,c.Z)({xAxisIndex:r,...v})]:(0,c.Z)({xAxisIndex:r,...v}),showTimeInTooltip:!0,toolBox:(0,u.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...x})}}f.displayName="ChartZoom";const v=f},"./app/components/charts/components/dataZoomInside.tsx":(t,e,o)=>{"use strict";o.d(e,{Z:()=>s}),o("../node_modules/echarts/lib/component/dataZoomInside.js");const n={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function s(t){return t&&Array.isArray(t)?t:[{...n,...t}]}},"./app/components/charts/components/toolBox.tsx":(t,e,o)=>{"use strict";function n(){let{dataZoom:t,...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...t}}:{},...e}}function s(t,e){return{right:0,top:0,itemSize:16,z:-1,feature:n(e),...t}}o.d(e,{Z:()=>s})},"./app/components/charts/transparentLoadingMask.tsx":(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=o("./app/components/loadingMask.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=(0,n.Z)((t=>{let{className:e,visible:o,children:n,...i}=t;const a=o?{...i,"data-test-id":"loading-placeholder"}:i;return(0,r.tZ)(s.Z,{className:e,...a,children:n})}),{target:"e1t3xibm0"})((t=>!t.visible&&"display: none;"),";opacity:0.4;z-index:1;")},"./app/components/gridEditable/sortLink.tsx":(t,e,o)=>{"use strict";o.d(e,{Z:()=>u});var n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=o("../node_modules/react-router/es/index.js"),r=o("./app/components/links/link.tsx"),i=o("./app/icons/index.tsx"),a=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(t){let{align:e,title:o,canSort:n,generateSortLink:r,onClick:i,direction:d,replace:u}=t;const h=r();if(!h||!n)return(0,a.tZ)(p,{align:e,children:o});const m=d?(0,a.tZ)(l,{size:"xs",direction:"desc"===d?"down":"up"}):null;return(0,a.BX)(c,{align:e,to:h,onClick:t=>{u&&(t.preventDefault(),s.browserHistory.replace(h)),i?.(t)},children:[o," ",m]})}d.displayName="SortLink";const c=(0,n.Z)((t=>{const{align:e,css:o,...n}=t;return(0,a.tZ)(r.Z,{...n})}),{target:"esdhr0u2"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(t=>t.align?`text-align: ${t.align};`:""),";"),p=(0,n.Z)("div",{target:"esdhr0u1"})("display:block;width:100%;white-space:nowrap;",(t=>t.align?`text-align: ${t.align};`:""),";"),l=(0,n.Z)(i.CC,{target:"esdhr0u0"})({name:"40f4ru",styles:"vertical-align:top"}),u=d},"./app/utils/discover/discoverQuery.tsx":(t,e,o)=>{"use strict";o.d(e,{Z:()=>d,_:()=>a});var n=o("./app/utils/discover/genericDiscoverQuery.tsx"),s=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(t,e){return t.transactionName!==e.transactionName||t.transactionThreshold!==e.transactionThreshold||t.transactionThresholdMetric!==e.transactionThresholdMetric}function i(t){return(0,s.tZ)(n.ZP,{route:"events",shouldRefetchData:r,afterFetch:(t,e)=>{const{fields:o,...n}=t.meta??{};return{...t,meta:{...o,...n}}},...t})}function a(t){return(0,n.JC)({route:"events",shouldRefetchData:r,afterFetch:(t,e)=>{const{fields:o,...n}=t.meta??{};return{...t,meta:{...o,...n}}},...t})}i.displayName="DiscoverQuery";const d=i},"./app/views/performance/transactionSummary/transactionEvents/utils.tsx":(t,e,o)=>{"use strict";o.d(e,{Kc:()=>h,Lc:()=>m,Zq:()=>u,_S:()=>d,q3:()=>a,qg:()=>l,tb:()=>p,xr:()=>c});var n=o("./app/locale.tsx"),s=o("./app/utils/queryString.tsx"),r=o("./app/views/performance/transactionSummary/filter.tsx"),i=o("./app/views/performance/transactionSummary/utils.tsx");let a;function d(t,e){const{p99:o,p95:s,p75:i,p50:d}=e||{p99:0,p95:0,p75:0,p50:0};return{[a.p50]:{name:a.p50,query:d?[["transaction.duration",`<=${d.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,r.T$)(t)||"transaction.duration"},label:(0,n.t)("p50")},[a.p75]:{name:a.p75,query:i?[["transaction.duration",`<=${i.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,r.T$)(t)||"transaction.duration"},label:(0,n.t)("p75")},[a.p95]:{name:a.p95,query:s?[["transaction.duration",`<=${s.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,r.T$)(t)||"transaction.duration"},label:(0,n.t)("p95")},[a.p99]:{name:a.p99,query:o?[["transaction.duration",`<=${o.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,r.T$)(t)||"transaction.duration"},label:(0,n.t)("p99")},[a.p100]:{name:a.p100,label:(0,n.t)("p100")}}}function c(t){let{orgSlug:e,transaction:o,projectID:n,query:s}=t;return{pathname:`/organizations/${e}/performance/summary/events/`,query:{transaction:o,project:n,environment:s.environment,statsPeriod:s.statsPeriod,start:s.start,end:s.end,query:s.query}}}function p(t){return e=(0,s.ro)(t.query.showTransactions,a.p100),Object.values(a).includes(e)?e:a.p100;var e}function l(t,e){const o=d(e),n=o[t].sort?.kind,s=o[t].sort?.field,r={showTransactions:t};return n&&s&&(r.sort=`${"desc"===n?"-":""}${s}`),r}function u(t){switch(t){case i.K0.OUTLIER:return a.p100;case i.K0.SLOW:return a.p95;default:return}}function h(t){return{p100:t?.["p100()"],p99:t?.["p99()"],p95:t?.["p95()"],p75:t?.["p75()"],p50:t?.["p50()"]}}function m(t){return t.withColumns([{kind:"function",function:["p100","",void 0,void 0]},{kind:"function",function:["p99","",void 0,void 0]},{kind:"function",function:["p95","",void 0,void 0]},{kind:"function",function:["p75","",void 0,void 0]},{kind:"function",function:["p50","",void 0,void 0]}])}!function(t){t.p50="p50",t.p75="p75",t.p95="p95",t.p99="p99",t.p100="p100"}(a||(a={}))},"../node_modules/lodash/negate.js":t=>{t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},"../node_modules/lodash/omitBy.js":(t,e,o)=>{var n=o("../node_modules/lodash/_baseIteratee.js"),s=o("../node_modules/lodash/negate.js"),r=o("../node_modules/lodash/pickBy.js");t.exports=function(t,e){return r(t,s(n(e)))}}}]);
//# sourceMappingURL=../sourcemaps/app_components_charts_areaChart_tsx-app_components_charts_chartZoom_tsx-app_components_charts-78165e.069cc837444ccfab704e069f70fa2043.js.map