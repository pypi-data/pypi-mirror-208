"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_issueDetails_groupReplays_index_tsx"],{"./app/utils/useCleanQueryParamsOnRouteLeave.tsx":(e,s,t)=>{t.d(s,{Z:()=>n,j:()=>i});var a=t("../node_modules/react/index.js"),r=t("../node_modules/react-router/es/index.js"),o=t("./app/utils/useLocation.tsx");function i(e){let{fieldsToClean:s,newLocation:t,oldPathname:a}=e;const o=s.some((e=>void 0!==t.query[e]));if(t.pathname===a||!o)return;const i=s.reduce(((e,s)=>(e[s]=void 0,e)),{...t.query});r.browserHistory.replace({pathname:t.pathname,query:i})}const n=function(e){let{fieldsToClean:s}=e;const t=(0,o.T)(),n=(0,a.useCallback)((e=>{i({fieldsToClean:s,newLocation:e,oldPathname:t.pathname})}),[t.pathname,s]);(0,a.useEffect)((()=>r.browserHistory.listen(n)),[n])}},"./app/views/issueDetails/groupReplays/index.tsx":(e,s,t)=>{t.r(s),t.d(s,{default:()=>R});var a=t("./app/components/acl/feature.tsx"),r=t("./app/components/alert.tsx"),o=t("./app/components/layouts/thirds.tsx"),i=t("./app/locale.tsx"),n=t("./app/utils/useOrganization.tsx"),l=t("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),p=t("../node_modules/react/index.js"),u=t("./app/utils/analytics.tsx"),c=t("./app/utils/replays/hooks/useReplayList.tsx"),d=t("./app/utils/useLocation.tsx"),y=t("../node_modules/@sentry/core/esm/exports.js"),m=t("./app/utils/discover/eventView.tsx"),h=t("./app/utils/queryString.tsx"),g=t("./app/utils/replays/fetchReplayList.tsx"),f=t("./app/utils/useApi.tsx"),x=t("./app/utils/useCleanQueryParamsOnRouteLeave.tsx"),v=t("./app/views/replays/types.tsx");var b=t("./app/views/replays/replayTable/index.tsx"),w=t("./app/views/replays/replayTable/types.tsx"),Z=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const C=[w.M.replay,w.M.os,w.M.browser,w.M.duration,w.M.countErrors,w.M.activity];function j(e){let{group:s}=e;const t=(0,n.Z)(),a=(0,d.T)(),{eventView:r,fetchError:o,pageLinks:i}=function(e){let{group:s,location:t,organization:a}=e;const r=(0,f.Z)(),[o,i]=(0,p.useState)(),[n,l]=(0,p.useState)(),u=(0,p.useCallback)((async()=>{try{const e=await r.requestPromise(`/organizations/${a.slug}/replay-count/`,{query:{returnIds:!0,query:`issue.id:[${s.id}]`,statsPeriod:"14d",project:-1}});i(e[s.id]||[])}catch(e){y.Tb(e),l(e)}}),[r,a.slug,s.id]),c=(0,p.useMemo)((()=>o?m.ZP.fromSavedQuery({id:"",name:"",version:2,fields:v.p,query:`id:[${String(o)}]`,range:"14d",projects:[],orderby:(0,h.ro)(t.query.sort,g.y)}):null),[t.query.sort,o]);return(0,x.Z)({fieldsToClean:["cursor"]}),(0,p.useEffect)((()=>{u()}),[u]),{eventView:c,fetchError:n,pageLinks:null}}({group:s,location:a,organization:t});return(0,p.useEffect)((()=>{(0,u.Gi)("replay.render-issues-group-list",{project_id:s.project.id,platform:s.project.platform,organization:t})}),[]),r?(0,Z.tZ)(T,{eventView:r,organization:t,pageLinks:i,visibleColumns:C}):(0,Z.tZ)(k,{withPadding:!0,children:(0,Z.tZ)(b.Z,{fetchError:o,isFetching:!0,replays:[],sort:void 0,visibleColumns:C})})}function T(e){let{eventView:s,organization:t,visibleColumns:a}=e;const r=(0,p.useMemo)((()=>({query:{}})),[]),{replays:o,isFetching:i,fetchError:n}=(0,c.Z)({eventView:s,location:r,organization:t,queryReferrer:"issueReplays"});return(0,Z.tZ)(k,{withPadding:!0,children:(0,Z.tZ)(b.Z,{fetchError:n,isFetching:i,replays:o,sort:void 0,visibleColumns:a})})}j.displayName="GroupReplays",T.displayName="GroupReplaysTable";const k=(0,l.Z)(o.T3,{target:"e1ekyz00"})("box-shadow:0px 0px 1px ",(e=>e.theme.gray200),";background-color:",(e=>e.theme.background),";"),q=j;function _(){return(0,Z.tZ)(o.T3,{withPadding:!0,children:(0,Z.tZ)(r.bZ,{type:"warning",children:(0,i.t)("You don't have access to this feature")})})}function L(e){const s=(0,n.Z)();return(0,Z.tZ)(a.Z,{features:["session-replay"],organization:s,renderDisabled:_,children:(0,Z.tZ)(q,{...e})})}_.displayName="renderNoAccess",L.displayName="GroupReplaysContainer";const R=L}}]);
//# sourceMappingURL=../sourcemaps/app_views_issueDetails_groupReplays_index_tsx.cec20461cdc5bd70b40e42e6e09368b2.js.map