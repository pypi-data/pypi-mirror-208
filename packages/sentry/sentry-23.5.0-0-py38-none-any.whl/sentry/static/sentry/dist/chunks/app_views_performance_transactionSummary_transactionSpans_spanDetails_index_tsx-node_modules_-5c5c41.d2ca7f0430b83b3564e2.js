(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_transactionSummary_transactionSpans_spanDetails_index_tsx-node_modules_-5c5c41"],{"./app/components/charts/barChartZoom.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),o=s("../node_modules/react-router/es/index.js"),r=s("./app/components/charts/components/dataZoomInside.tsx"),i=s("./app/components/charts/components/toolBox.tsx");class l extends a.Component{constructor(){super(...arguments),(0,n.Z)(this,"zooming",null),(0,n.Z)(this,"handleChartReady",(e=>{this.props.onChartReady?.(e)})),(0,n.Z)(this,"handleChartFinished",((e,t)=>{"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const s=t._componentsViews?.find((e=>e._features&&e._features.dataZoom));s&&!s._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0})})),(0,n.Z)(this,"handleDataZoom",((e,t)=>{const s=t.getModel(),{startValue:n,endValue:a}=s._payload.batch[0];if(null!==n&&null!==a){const{buckets:e,location:s,paramStart:r,paramEnd:i,minZoomWidth:l,onHistoryPush:p}=this.props,{start:c}=e[n],{end:d}=e[a];if(void 0===l||d-c>l){const e={pathname:s.pathname,query:{...s.query,[r]:c,[i]:d}};p?p(c,d):o.browserHistory.push(e)}else t.dispatchAction({type:"restore"}),this.props.onDataZoomCancelled?.()}else t.dispatchAction({type:"restore"}),this.props.onDataZoomCancelled?.();this.props.onDataZoom?.(e,t)}))}render(){const{children:e,xAxisIndex:t}=this.props;return e({onChartReady:this.handleChartReady,onFinished:this.handleChartFinished,dataZoom:(0,r.Z)({xAxisIndex:t}),toolBox:(0,i.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom})}}l.displayName="BarChartZoom";const p=l},"./app/components/charts/chartZoom.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),o=s("../node_modules/moment/moment.js"),r=s.n(o),i=s("../node_modules/query-string/index.js"),l=s("./app/actionCreators/pageFilters.tsx"),p=s("./app/components/charts/components/dataZoomInside.tsx");s("../node_modules/echarts/lib/component/dataZoomSlider.js");const c={realtime:!1,showDetail:!1,left:0,right:6,bottom:8};function d(e){return e&&Array.isArray(e)?e:[{...c,...e}]}var u=s("./app/components/charts/components/toolBox.tsx"),m=s("./app/utils/callIfFunction.tsx"),h=s("./app/utils/dates.tsx");const g=e=>e?r().utc(e).format(r().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class x extends a.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"history",void 0),(0,n.Z)(this,"currentPeriod",void 0),(0,n.Z)(this,"zooming",null),(0,n.Z)(this,"saveCurrentPeriod",(e=>{this.currentPeriod={period:e.period,start:g(e.start),end:g(e.end)}})),(0,n.Z)(this,"setPeriod",(function(e){let{period:s,start:n,end:a}=e,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:r,onZoom:p,usePageDate:c}=t.props,d=g(n),u=g(a);o&&t.history.push(t.currentPeriod),p?.({period:s,start:d,end:u}),t.zooming=()=>{if(c&&r){const e={...r.location.query,pageStart:n?(0,h.v5)(n):void 0,pageEnd:a?(0,h.v5)(a):void 0,pageStatsPeriod:s??void 0};i.stringify(e)!==i.stringify(r.location.query)&&r.push({pathname:r.location.pathname,query:e})}else(0,l.dR)({period:s,start:d?(0,h.hC)(d):d,end:u?(0,h.hC)(u):u},r,{skipDesyncUpdate:!0});t.saveCurrentPeriod({period:s,start:n,end:a})}})),(0,n.Z)(this,"handleChartReady",(e=>{this.props.onChartReady?.(e)})),(0,n.Z)(this,"handleZoomRestore",((e,t)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],this.props.onRestore?.(e,t))})),(0,n.Z)(this,"handleDataZoom",((e,t)=>{const s=t.getModel(),{startValue:n,endValue:a}=s._payload.batch[0];if(null===n&&null===a){const e=this.history.pop();if(!e)return;this.setPeriod(e)}else{const e=r().utc(n),t=r().utc(a);this.setPeriod({period:null,start:e,end:t},!0)}this.props.onDataZoom?.(e,t)})),(0,n.Z)(this,"handleChartFinished",((e,t)=>{"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const s=t._componentsViews?.find((e=>e._features&&e._features.dataZoom));s&&!s._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,m.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(e)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:e,start:t,end:s,disabled:n,children:a,xAxisIndex:o,router:r,onZoom:i,onRestore:l,onChartReady:c,onDataZoom:m,onFinished:g,showSlider:x,chartZoomOptions:y,...Z}=this.props,v=e??void 0,f=t?(0,h.hC)(t):void 0,b=s?(0,h.hC)(s):void 0;return a(n?{utc:v,start:f,end:b,...Z}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:v,start:f,end:b,dataZoom:x?[...d({xAxisIndex:o,...y}),...(0,p.Z)({xAxisIndex:o,...y})]:(0,p.Z)({xAxisIndex:o,...y}),showTimeInTooltip:!0,toolBox:(0,u.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...Z})}}x.displayName="ChartZoom";const y=x},"./app/components/charts/components/dataZoomInside.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a}),s("../node_modules/echarts/lib/component/dataZoomInside.js");const n={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function a(e){return e&&Array.isArray(e)?e:[{...n,...e}]}},"./app/components/charts/components/toolBox.tsx":(e,t,s)=>{"use strict";function n(){let{dataZoom:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...e}}:{},...t}}function a(e,t){return{right:0,top:0,itemSize:16,z:-1,feature:n(t),...e}}s.d(t,{Z:()=>a})},"./app/components/charts/errorPanel.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const n=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e1t1x7f30"})("display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1;flex-shrink:0;overflow:hidden;height:",(e=>e.height||"200px"),";position:relative;border-color:transparent;margin-bottom:0;color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeExtraLarge),";")},"./app/components/charts/lineChart.tsx":(e,t,s)=>{"use strict";s.d(t,{w:()=>r});var n=s("./app/components/charts/series/lineSeries.tsx"),a=s("./app/components/charts/baseChart.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){let{series:t,seriesOptions:s,...r}=e;return(0,o.tZ)(a.Z,{...r,series:t.map((e=>{let{seriesName:t,data:a,dataArray:o,...r}=e;return(0,n.Z)({...s,...r,name:t,data:o||a?.map((e=>{let{value:t,name:s}=e;return[s,t]})),animation:!1,animationThreshold:1,animationDuration:0})}))})}r.displayName="LineChart"},"./app/components/charts/optionSelector.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react/index.js"),o=s("./app/components/compactSelect/index.tsx"),r=s("./app/components/featureBadge.tsx"),i=s("./app/components/truncate.tsx"),l=s("./app/utils.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{options:t,onChange:s,selected:n,title:r,featureType:c,multiple:u,defaultValue:m,closeOnSelect:h,...g}=e;const x=(0,a.useMemo)((()=>t.map((e=>({...e,textValue:String(e.label),label:(0,p.tZ)(i.Z,{value:String(e.label),maxLength:60,expandDirection:"left"})})))),[t]),y=(0,a.useMemo)((()=>u?{multiple:u,value:n,defaultValue:m,onChange:e=>{s?.(e.map((e=>e.value)))},closeOnSelect:h}:{multiple:u,value:n,defaultValue:m,onChange:e=>s?.(e.value),closeOnSelect:h}),[u,n,m,s,h]);return(0,p.tZ)(o.Z,{...g,...y,size:"sm",options:x,isOptionDisabled:function(e){return e.disabled||u&&3===n.length&&!n.includes(e.value)},position:"bottom-end",triggerProps:{borderless:!0,prefix:(0,p.BX)(a.Fragment,{children:[r,(0,l.ri)(c)?(0,p.tZ)(d,{type:c}):null]})}})}c.displayName="OptionSelector";const d=(0,n.Z)(r.Z,{target:"e56rtee0"})({name:"6og82r",styles:"margin-left:0px"}),u=c},"./app/components/charts/transitionChart.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=s("../node_modules/react/index.js"),o=s("./app/components/charts/loadingPanel.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends a.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{prevReloading:this.props.reloading,prevLoading:this.props.loading,key:1})}static getDerivedStateFromProps(e,t){const s=t.prevReloading,n=e.reloading,a=t.prevLoading,o=e.loading;return a!==o?{prevReloading:n,prevLoading:o,key:t.key+1}:o?{prevReloading:n,prevLoading:o,key:t.key}:s&&!n?{prevReloading:n,prevLoading:o,key:t.key+1}:{prevReloading:n,prevLoading:o,key:t.key}}render(){const{height:e,loading:t,reloading:s}=this.props;return t&&!s?(0,r.tZ)(o.Z,{height:e,"data-test-id":"events-request-loading"}):(0,r.tZ)(a.Fragment,{children:this.props.children},String(this.state.key))}}i.displayName="TransitionChart",(0,n.Z)(i,"defaultProps",{height:"200px"});const l=i},"./app/components/charts/transparentLoadingMask.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/components/loadingMask.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const r=(0,n.Z)((e=>{let{className:t,visible:s,children:n,...r}=e;const i=s?{...r,"data-test-id":"loading-placeholder"}:r;return(0,o.tZ)(a.Z,{className:t,...i,children:n})}),{target:"e1t3xibm0"})((e=>!e.visible&&"display: none;"),";opacity:0.4;z-index:1;")},"./app/components/events/searchBar.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>E}),s("../node_modules/core-js/modules/es.error.cause.js");var n=s("../node_modules/react/index.js"),a=s("../node_modules/lodash/assign.js"),o=s.n(a),r=s("../node_modules/lodash/flatten.js"),i=s.n(r),l=s("../node_modules/lodash/memoize.js"),p=s.n(l),c=s("../node_modules/lodash/omit.js"),d=s.n(c),u=s("./app/actionCreators/tags.tsx"),m=s("./app/components/smartSearchBar/index.tsx"),h=s("./app/constants/index.tsx"),g=s("./app/types/index.tsx"),x=s("./app/utils.tsx"),y=s("./app/utils/discover/fields.tsx"),Z=s("./app/utils/fields/index.ts"),v=s("./app/utils/measurements/measurements.tsx"),f=s("./app/utils/useApi.tsx"),b=s("./app/utils/withTags.tsx"),S=s("./app/views/dashboards/utils.tsx"),w=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _=new RegExp(`^${h.c$}|\\${h.ir}`,"g"),j=new Set(Object.keys(y.wZ)),C=Object.keys(y.wZ).reduce(((e,t)=>(e[t]={...y.wZ[t],kind:Z.IV.FIELD},e)),{}),k=d()(C,y.J8),D=y.$4.reduce(((e,t)=>(e[t]={name:t,kind:Z.IV.METRICS},e)),{}),T=Object.keys(y.jg).reduce(((e,t)=>(e[t]={...y.jg[t],kind:Z.IV.FIELD},e)),{});function z(e){const{maxSearchItems:t,organization:s,tags:a,omitTags:r,fields:l,projectIds:c,includeSessionTagsValues:h,maxMenuHeight:b,customMeasurements:z}=e,E=(0,f.Z)(),P=(0,n.useMemo)((()=>(e=>e?.length?e.reduce(((e,t)=>(j.has(t.field)||(0,y.GO)(t.field)||(0,S.nk)(t.field)||(e[t.field]={key:t.field,name:t.field,kind:Z.IV.FUNCTION}),e)),{}):[])(l)),[l]),N=(0,n.useMemo)((()=>Object.keys(a).reduce(((e,t)=>(e[t]={...a[t],kind:Z.IV.TAG},e)),{})),[a]);(0,n.useEffect)((()=>{A.cache.clear?.()}),[c]);const A=p()(((e,t,n)=>{const a=c?.map(String);return(0,y.h1)(e.key)||(0,y.Xr)(e.key)?Promise.resolve([]):(0,Z.bn)(e.key)?Promise.resolve(Z.BF):(0,u.Fo)({api:E,orgSlug:s.slug,tagKey:e.key,search:t,projectIds:a,endpointParams:n,includeTransactions:!0,includeSessions:h}).then((e=>i()(e.filter((e=>{let{name:t}=e;return(0,x.ri)(t)})).map((e=>{let{name:t}=e;return t})))),(()=>{throw new Error("Unable to fetch event field values")}))}),((e,t)=>{let{key:s}=e;return`${s}-${t}`})),B=e=>{const t=((e,t)=>{const s=Object.keys(e).reduce(((t,s)=>(t[s]={...e[s],kind:Z.IV.MEASUREMENT},t)),{});return t?Object.keys(t).reduce(((e,s)=>(e[s]={...t[s],kind:Z.IV.MEASUREMENT},e)),s):s})(e,z),n=s.features.includes("performance-view")?Object.assign({},t,P,D,C):Object.assign({},k);return o()(n,N,C,T),n.has={key:Z.Sh.HAS,name:"Has property",values:Object.keys(n).sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))),predefined:!0,kind:Z.IV.FIELD},r&&r.length>0?d()(n,r):n};return(0,w.tZ)(v.Z,{children:s=>{let{measurements:n}=s;return(0,w.tZ)(m.Z,{hasRecentSearches:!0,savedSearchType:g.L4.EVENT,onGetTagValues:A,supportedTags:B(n),prepareQuery:e=>e.replace(_,""),maxSearchItems:t,excludedTags:[Z.Sh.ENVIRONMENT,Z.Sh.TOTAL_COUNT],maxMenuHeight:b??300,customPerformanceMetrics:z,...e})}})}z.displayName="SearchBar";const E=(0,b.Z)(z)},"./app/components/gridEditable/sortLink.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react-router/es/index.js"),o=s("./app/components/links/link.tsx"),r=s("./app/icons/index.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{align:t,title:s,canSort:n,generateSortLink:o,onClick:r,direction:l,replace:u}=e;const m=o();if(!m||!n)return(0,i.tZ)(c,{align:t,children:s});const h=l?(0,i.tZ)(d,{size:"xs",direction:"desc"===l?"down":"up"}):null;return(0,i.BX)(p,{align:t,to:m,onClick:e=>{u&&(e.preventDefault(),a.browserHistory.replace(m)),r?.(e)},children:[s," ",h]})}l.displayName="SortLink";const p=(0,n.Z)((e=>{const{align:t,css:s,...n}=e;return(0,i.tZ)(o.Z,{...n})}),{target:"esdhr0u2"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),c=(0,n.Z)("div",{target:"esdhr0u1"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),d=(0,n.Z)(r.CC,{target:"esdhr0u0"})({name:"40f4ru",styles:"vertical-align:top"}),u=l},"./app/components/performanceDuration.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./app/components/duration.tsx"),a=s("./app/utils.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){const t=function(e){return(0,a.ri)(e.nanoseconds)}(e)?e.nanoseconds/1e9:function(e){return(0,a.ri)(e.milliseconds)}(e)?e.milliseconds/1e3:e.seconds;return(0,o.tZ)(n.Z,{abbreviation:e.abbreviation,seconds:t,fixedDigits:2})}r.displayName="PerformanceDuration";const i=r},"./app/utils/discover/discoverQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l,_:()=>i});var n=s("./app/utils/discover/genericDiscoverQuery.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e,t){return e.transactionName!==t.transactionName||e.transactionThreshold!==t.transactionThreshold||e.transactionThresholdMetric!==t.transactionThresholdMetric}function r(e){return(0,a.tZ)(n.ZP,{route:"events",shouldRefetchData:o,afterFetch:(e,t)=>{const{fields:s,...n}=e.meta??{};return{...e,meta:{...s,...n}}},...e})}function i(e){return(0,n.JC)({route:"events",shouldRefetchData:o,afterFetch:(e,t)=>{const{fields:s,...n}=e.meta??{};return{...e,meta:{...s,...n}}},...e})}r.displayName="DiscoverQuery";const l=r},"./app/utils/performance/histogram/constants.tsx":(e,t,s)=>{"use strict";s.d(t,{d:()=>a});var n=s("./app/locale.tsx");const a=[{label:(0,n.t)("Exclude"),value:"exclude_outliers"},{label:(0,n.t)("Include"),value:"all"}]},"./app/utils/performance/histogram/index.tsx":(e,t,s)=>{"use strict";s.d(t,{V:()=>p,Z:()=>c});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),o=s("../node_modules/react-router/es/index.js"),r=s("./app/utils/queryString.tsx"),i=s("./app/utils/performance/histogram/constants.tsx");class l extends a.Component{constructor(){super(...arguments),(0,n.Z)(this,"handleResetView",(()=>{const{location:e,zoomKeys:t}=this.props;o.browserHistory.push({pathname:e.pathname,query:p(e,t)})})),(0,n.Z)(this,"handleFilterChange",(e=>{const{location:t,zoomKeys:s}=this.props;o.browserHistory.push({pathname:t.pathname,query:{...p(t,s),dataFilter:e}})}))}isZoomed(){const{location:e,zoomKeys:t}=this.props;return t.map((t=>e.query[t])).some((e=>void 0!==e))}getActiveFilter(){const{location:e}=this.props,t=e.query.dataFilter?(0,r.ro)(e.query.dataFilter):i.d[0].value;return i.d.find((e=>e.value===t))||i.d[0]}render(){const e={isZoomed:this.isZoomed(),handleResetView:this.handleResetView,activeFilter:this.getActiveFilter(),handleFilterChange:this.handleFilterChange,filterOptions:i.d};return this.props.children(e)}}function p(e,t){const s={...e.query,cursor:void 0};return delete s.dataFilter,t.forEach((e=>delete s[e])),s}l.displayName="Histogram";const c=l},"./app/utils/performance/suspectSpans/suspectSpansQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("../node_modules/lodash/omit.js"),a=s.n(n),o=s("./app/utils.tsx"),r=s("./app/utils/discover/genericDiscoverQuery.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){const{perSuspect:t,spanOps:s,spanGroups:n,minExclusiveTime:a,maxExclusiveTime:r}=e,i={perSuspect:t,spanOp:s,spanGroup:n,min_exclusive_time:a,max_exclusive_time:r};(0,o.ri)(i.perSuspect)||delete i.perSuspect,(0,o.ri)(i.spanOp)||delete i.spanOp,(0,o.ri)(i.spanGroup)||delete i.spanGroup;const l=e.eventView.getEventsAPIPayload(e.location);return{...i,...l}}function p(e){return(0,i.tZ)(r.ZP,{route:"events-spans-performance",getRequestPayload:l,...a()(e,"children"),children:t=>{let{tableData:s,...n}=t;return e.children({suspectSpans:s,...n})}})}p.displayName="SuspectSpansQuery";const c=p},"./app/utils/routeAnalytics/useRouteAnalyticsEventNames.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("../node_modules/react/index.js"),a=s("./app/views/routeAnalyticsContextProvider.tsx");function o(e,t){const{setEventNames:s,previousUrl:o}=(0,n.useContext)(a.o);(0,n.useEffect)((()=>{s(e,t)}),[s,e,t,o])}},"./app/utils/withTags.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=s("../node_modules/react/index.js"),o=s("./app/stores/tagStore.tsx"),r=s("./app/utils/getDisplayName.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends a.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{tags:o.Z.getState()}),(0,n.Z)(this,"unsubscribe",o.Z.listen((e=>this.setState({tags:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{tags:t,...s}=this.props;return(0,i.tZ)(e,{tags:t??this.state.tags,...s})}}return t.displayName="WithTags",(0,n.Z)(t,"displayName",`withTags(${(0,r.Z)(e)})`),t}},"./app/views/performance/transactionSummary/transactionSpans/spanDetails/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>He});var n=s("./app/components/acl/feature.tsx"),a=s("./app/components/layouts/thirds.tsx"),o=s("./app/components/organizations/pageFilters/container.tsx"),r=s("./app/components/sentryDocumentTitle.tsx"),i=s("./app/locale.tsx"),l=s("./app/utils.tsx"),p=s("./app/utils/queryString.tsx"),c=s("./app/utils/useOrganization.tsx"),d=s("./app/utils/useProjects.tsx"),u=s("./app/views/performance/utils.tsx"),m=s("./app/views/performance/transactionSummary/pageLayout.tsx"),h=s("./app/views/performance/transactionSummary/transactionSpans/utils.tsx"),g=s("../node_modules/react/index.js"),x=s("./app/components/idBadge/index.tsx"),y=s("./app/utils/discover/discoverQuery.tsx"),Z=s("../node_modules/lodash/omit.js"),v=s.n(Z),f=s("./app/utils/discover/genericDiscoverQuery.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function S(e){const{spanOp:t,spanGroup:s,minExclusiveTime:n,maxExclusiveTime:a}=e,o=(0,l.ri)(t)&&(0,l.ri)(s)?`${t}:${s}`:void 0;return{...(0,l.ri)(o)?{span:o,min_exclusive_time:n,max_exclusive_time:a}:{},...v()(e.eventView.getEventsAPIPayload(e.location),["field"])}}function w(e){return(0,b.tZ)(f.ZP,{route:"events-spans",getRequestPayload:S,...v()(e,"children"),children:t=>{let{tableData:s,...n}=t;return e.children({examples:s??null,...n})}})}w.displayName="SuspectSpansQuery";const _=w;var j=s("./app/utils/performance/suspectSpans/suspectSpansQuery.tsx"),C=s("./app/utils/performanceForSentry.tsx"),k=s("./app/utils/routeAnalytics/useRouteAnalyticsEventNames.tsx"),D=s("./app/utils/routeAnalytics/useRouteAnalyticsParams.tsx"),T=s("./app/views/performance/breadcrumb.tsx"),z=s("./app/views/performance/transactionSummary/tabs.tsx"),E=s("./app/views/performance/transactionSummary/transactionSpans/types.tsx"),P=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react-router/es/index.js")),N=s("./app/components/charts/optionSelector.tsx"),A=s("./app/components/charts/styles.tsx"),B=s("./app/components/count.tsx"),F=s("./app/components/panels/index.tsx"),I=s("./app/utils/analytics.tsx"),L=s("./app/utils/useLocation.tsx"),R=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),q=s("./app/components/charts/barChart.tsx"),O=s("./app/components/charts/barChartZoom.tsx"),V=s("./app/components/charts/errorPanel.tsx"),M=s("./app/components/charts/transitionChart.tsx"),X=s("./app/components/charts/transparentLoadingMask.tsx"),H=s("./app/components/performance/waterfall/utils.tsx"),G=s("./app/components/placeholder.tsx"),$=s("./app/components/questionTooltip.tsx"),W=s("./app/icons/index.tsx"),Q=s("./app/utils/discover/charts.tsx"),U=s("./app/utils/discover/fields.tsx"),K=s("./app/utils/getDynamicText.tsx");function J(e){const{span:t,numBuckets:s,min:n,max:a,precision:o,dataFilter:r,eventView:i,location:l}=e;return{span:`${t.op}:${t.group}`,numBuckets:s,min:n,max:a,precision:o,dataFilter:r,...v()(i.getEventsAPIPayload(l),["sort","per_page","cursor"])}}function Y(e){return(0,b.tZ)(f.ZP,{route:"events-spans-histogram",getRequestPayload:J,...v()(e,"children"),children:t=>{let{tableData:s,...n}=t;return e.children({histogram:s,...n})}})}Y.displayName="SpanHistogramQuery";const ee=Y;var te=s("./app/utils/performance/histogram/utils.tsx"),se=s("./app/views/performance/transactionSummary/transactionSpans/spanDetails/utils.tsx");const ne=50,ae=0;function oe(e){const{organization:t,eventView:s,spanSlug:n}=e,a=(0,L.T)(),o=(0,p.ro)(a.query[se.wL.MIN]),r=(0,p.ro)(a.query[se.wL.MAX]);return(0,b.BX)(g.Fragment,{children:[(0,b.BX)(A.ws,{children:[(0,i.t)("Self Time Distribution"),(0,b.tZ)($.Z,{size:"sm",position:"top",title:(0,i.t)("Distribution buckets counts of the same self time duration for the selected span op and group.")})]}),(0,b.tZ)(ee,{location:a,orgSlug:t.slug,eventView:s,numBuckets:ne,precision:ae,span:n,dataFilter:"exclude_outliers",min:o,max:r,children:e=>{let{histogram:t,isLoading:s,error:o}=e;return o?(0,b.tZ)(V.Z,{"data-test-id":"histogram-error-panel",children:(0,b.tZ)(W.FC,{color:"gray300",size:"lg"})}):(0,b.BX)(M.Z,{loading:s,reloading:s,children:[(0,b.tZ)(X.Z,{visible:s}),(0,b.tZ)(O.Z,{minZoomWidth:1,location:a,paramStart:se.wL.MIN,paramEnd:se.wL.MAX,xAxisIndex:[0],buckets:t?(0,te._W)(t):[],children:e=>(0,b.tZ)(re,{zoomProps:{...e},isLoading:s,isErrored:!!o,chartData:t,spanSlug:n})})]})}})]})}function re(e){const t=(0,R.u)(),{chartData:s,zoomProps:n,spanSlug:a}=e;if(!s)return(0,b.tZ)(G.Z,{height:"200px"});const o={grid:{left:"10px",right:"10px",top:"40px",bottom:"0px"},colors:()=>(0,H.hd)(a.op),seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",valueFormatter:(e,t)=>(0,Q.CX)(e,(0,U.Px)(t))},yAxis:{type:"value",axisLabel:{color:t.chartLabel,formatter:e=>(0,Q.gu)(e,"number")}},xAxis:{type:"category",truncate:!0,axisTick:{alignWithLabel:!0}},height:200},r={seriesName:(0,i.t)("Count"),data:(0,te.GT)(s,{type:"duration"})};return(0,b.tZ)(g.Fragment,{children:(0,K.Z)({value:(0,b.tZ)(q.v,{...n,...o,series:[r],stacked:!0}),fixed:(0,b.tZ)(G.Z,{height:"200px"})})})}oe.displayName="ExclusiveTimeHistogram",re.displayName="Chart";var ie,le=s("./app/components/charts/chartZoom.tsx"),pe=s("./app/components/charts/eventsRequest.tsx"),ce=s("./app/components/charts/lineChart.tsx"),de=s("./app/components/charts/utils.tsx"),ue=s("./app/components/organizations/pageFilters/parse.tsx"),me=s("./app/utils/dates.tsx"),he=s("./app/utils/useApi.tsx"),ge=s("./app/utils/useRouter.tsx");function xe(e){const t=(0,L.T)(),s=(0,ge.Z)(),{organization:n,eventView:a,spanSlug:o,withoutZerofill:r}=e,l=(0,he.Z)(),p=(0,R.u)(),c=a.statsPeriod,d=a.start?(0,me.hC)(a.start):null,u=a.end?(0,me.hC)(a.end):null,{utc:m}=(0,ue.fK)(t.query),x={start:d,end:u,period:c},y=["percentileArray(spans_exclusive_time, 0.50)","percentileArray(spans_exclusive_time, 0.75)","percentileArray(spans_exclusive_time, 0.95)","percentileArray(spans_exclusive_time, 0.99)"],Z=e=>{const{selected:s}=e,n=Object.keys(s).filter((e=>!s[e])),a={...t,query:{...t.query,unselectedSeries:n}};P.browserHistory.push(a)};return(0,b.BX)(g.Fragment,{children:[(0,b.BX)(A.ws,{children:[(0,i.t)("Self Time Breakdown"),(0,b.tZ)($.Z,{size:"sm",position:"top",title:(0,i.t)("Self Time Breakdown reflects the span self time by percentile over time.")})]}),(0,b.tZ)(le.Z,{router:s,period:c,start:d,end:u,utc:"true"===m,children:e=>(0,b.tZ)(pe.Z,{api:l,organization:n,project:a.project,environment:a.environment,start:d,end:u,period:c,interval:(0,de.ZS)(x,"high"),showLoading:!1,query:a.query,includePrevious:!1,yAxis:y,partial:!0,withoutZerofill:r,queryExtras:{span:`${o.op}:${o.group}`},generatePathname:e=>`/organizations/${e.slug}/events-spans-stats/`,children:s=>{let{results:n,errored:a,loading:o,reloading:r,timeframe:i}=s;if(a)return(0,b.tZ)(V.Z,{children:(0,b.tZ)(W.FC,{color:"gray300",size:"lg"})});const l={grid:{left:"10px",right:"10px",top:"40px",bottom:"0px"},colors:p.charts.getColorPalette(y.length-2),seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",valueFormatter:(e,t)=>(0,Q.CX)(e,"duration")},xAxis:i?{min:i.start,max:i.end}:void 0,yAxis:{axisLabel:{color:p.chartLabel,formatter:e=>(0,Q.gu)(e,"duration")}}},c={right:10,top:5,selected:(0,de.RI)(t)},d=n?.map((e=>({...e,seriesName:(0,h.mV)(e.seriesName)})));return(0,b.BX)(M.Z,{loading:o,reloading:r,children:[(0,b.tZ)(X.Z,{visible:r}),(0,K.Z)({value:(0,b.tZ)(ce.w,{...e,...l,legend:c,onLegendSelectChanged:Z,series:d??[]}),fixed:(0,b.tZ)(G.Z,{height:"200px"})})]})}})})]})}function ye(e){const t=(0,L.T)(),s=(0,p.ro)(t.query.display,ie.TIMESERIES);return(0,b.BX)(F.s_,{children:[(0,b.tZ)(A.BO,{children:(0,b.tZ)(n.Z,{features:["performance-span-histogram-view"],children:t=>{let{hasFeature:n}=t;return n?s===ie.TIMESERIES?(0,b.tZ)(xe,{...e,withoutZerofill:!1}):(0,b.tZ)(oe,{...e}):(0,b.tZ)(xe,{...e,withoutZerofill:!1})}})}),(0,b.tZ)(n.Z,{features:["performance-span-histogram-view"],children:(0,b.BX)(A.xx,{children:[(0,b.BX)(A.m2,{children:[(0,b.tZ)(A.OT,{children:(0,i.t)("Total Events")}),(0,b.tZ)(A.uN,{"data-test-id":"total-value",children:(0,l.ri)(e.totalCount)?(0,b.tZ)(B.Z,{value:e.totalCount}):"—"})]}),(0,b.tZ)(A.m2,{"data-test-id":"display-toggle",children:(0,b.tZ)(N.Z,{title:(0,i.t)("Display"),selected:s,options:[{value:ie.TIMESERIES,label:(0,i.t)("Self Time Breakdown")},{value:ie.HISTOGRAM,label:(0,i.t)("Self Time Distribution")}],onChange:function(s){(0,I.Gi)("performance_views.span_summary.change_chart",{organization:e.organization,change_to_display:s}),P.browserHistory.push({pathname:t.pathname,query:{...t.query,display:s}})}})})]})})]})}xe.displayName="ExclusiveTimeTimeSeries",function(e){e.TIMESERIES="timeseries",e.HISTOGRAM="histogram"}(ie||(ie={})),ye.displayName="Chart";const Ze=ye;var ve=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),fe=s("./app/components/button.tsx"),be=s("./app/components/datePageFilter.tsx"),Se=s("./app/components/environmentPageFilter.tsx"),we=s("./app/components/events/searchBar.tsx"),_e=s("./app/components/organizations/pageFilterBar.tsx"),je=s("./app/styles/space.tsx"),Ce=s("./app/utils/performance/histogram/index.tsx");function ke(e){let{organization:t,eventView:s,location:n}=e;const a=(0,p.ro)(n.query.query,"");return(0,b.BX)(De,{children:[(0,b.BX)(_e.Z,{condensed:!0,children:[(0,b.tZ)(Se.Z,{}),(0,b.tZ)(be.Z,{alignDropdown:"left",relativeOptions:h.CS,maxPickableDays:h.bc})]}),(0,b.tZ)(we.Z,{placeholder:(0,i.t)("Filter Transactions"),organization:t,projectIds:s.project,query:a,fields:s.fields,onSearch:e=>{P.browserHistory.push({pathname:n.pathname,query:{...n.query,cursor:void 0,query:String(e).trim()||void 0}})}}),(0,b.tZ)(fe.zx,{onClick:()=>{P.browserHistory.push({pathname:n.pathname,query:(0,Ce.V)(n,Object.values(se.wL))})},disabled:!Object.values(se.wL).some((e=>n.query[e])),children:(0,i.t)("Reset View")})]})}ke.displayName="SpanDetailsControls";const De=(0,ve.Z)("div",{target:"e1f3ccvz0"})("display:grid;gap:",(0,je.D)(2),";margin-bottom:",(0,je.D)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:auto 1fr auto;}");var Te=s("./app/components/performanceDuration.tsx"),ze=s("./app/utils/formatters.tsx");function Ee(e){const{spanSlug:t,suspectSpan:s,totalCount:n}=e,{description:a,frequency:o,avgOccurrences:r,p50ExclusiveTime:p,p75ExclusiveTime:c,p95ExclusiveTime:d,p99ExclusiveTime:u,sumExclusiveTime:m}=s??{};return(0,b.BX)(Pe,{children:[(0,b.BX)(Ne,{"data-test-id":"header-operation-name",children:[(0,b.tZ)(Ae,{children:(0,i.t)("Span Operation")}),(0,b.tZ)(Be,{children:(0,b.tZ)(Le,{children:a??qe})}),(0,b.tZ)(Fe,{"data-test-id":"operation-name",children:t.op})]}),(0,b.BX)(Ne,{"data-test-id":"header-percentiles",children:[(0,b.tZ)(Ae,{children:(0,i.t)("Self Time Percentiles")}),(0,b.BX)(Ie,{children:[(0,b.BX)("div",{"data-test-id":"section-p50",children:[(0,b.tZ)(Be,{children:(0,l.ri)(p)?(0,b.tZ)(Te.Z,{abbreviation:!0,milliseconds:p}):"—"}),(0,b.tZ)(Fe,{children:(0,i.t)("p50")})]}),(0,b.BX)("div",{"data-test-id":"section-p75",children:[(0,b.tZ)(Be,{children:(0,l.ri)(c)?(0,b.tZ)(Te.Z,{abbreviation:!0,milliseconds:c}):"—"}),(0,b.tZ)(Fe,{children:(0,i.t)("p75")})]}),(0,b.BX)("div",{"data-test-id":"section-p95",children:[(0,b.tZ)(Be,{children:(0,l.ri)(d)?(0,b.tZ)(Te.Z,{abbreviation:!0,milliseconds:d}):"—"}),(0,b.tZ)(Fe,{children:(0,i.t)("p95")})]}),(0,b.BX)("div",{"data-test-id":"section-p99",children:[(0,b.tZ)(Be,{children:(0,l.ri)(u)?(0,b.tZ)(Te.Z,{abbreviation:!0,milliseconds:u}):"—"}),(0,b.tZ)(Fe,{children:(0,i.t)("p99")})]})]})]}),(0,b.BX)(Ne,{"data-test-id":"header-frequency",children:[(0,b.tZ)(Ae,{children:(0,i.t)("Frequency")}),(0,b.tZ)(Be,{children:(0,l.ri)(o)&&(0,l.ri)(n)?(0,ze.rl)(Math.min(o,n)/n):"—"}),(0,b.tZ)(Fe,{children:(0,l.ri)(r)?(0,i._N)("[times] times per event",{times:r.toFixed(2)}):"—"})]}),(0,b.BX)(Ne,{"data-test-id":"header-total-exclusive-time",children:[(0,b.tZ)(Ae,{children:(0,i.t)("Total Self Time")}),(0,b.tZ)(Be,{children:(0,l.ri)(m)?(0,b.tZ)(Te.Z,{abbreviation:!0,milliseconds:m}):"—"}),(0,b.tZ)(Fe,{children:(0,l.ri)(o)?(0,i._N)("[events] events",{events:(0,b.tZ)(B.Z,{value:o})}):"—"})]})]})}Ee.displayName="SpanDetailsHeader";const Pe=(0,ve.Z)("div",{target:"e14vyzsa7"})("display:grid;grid-template-columns:1fr;gap:",(0,je.D)(4),";margin-bottom:",(0,je.D)(2),";@media (min-width: ",(e=>e.theme.breakpoints.medium),"){grid-template-columns:1fr repeat(3, max-content);}"),Ne=(0,ve.Z)("div",{target:"e14vyzsa6"})((e=>e.theme.overflowEllipsis),";height:78px;"),Ae=(0,ve.Z)(A.OT,{target:"e14vyzsa5"})({name:"ti75j2",styles:"margin:0"}),Be=(0,ve.Z)("div",{target:"e14vyzsa4"})("font-size:",(e=>e.theme.fontSizeExtraLarge),";padding:",(0,je.D)(.5)," 0;max-height:32px;"),Fe=(0,ve.Z)("div",{target:"e14vyzsa3"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";"),Ie=(0,ve.Z)("div",{target:"e14vyzsa2"})("display:grid;grid-template-columns:repeat(4, max-content);gap:",(0,je.D)(3),";"),Le=(0,ve.Z)("div",{target:"e14vyzsa1"})((e=>e.theme.overflowEllipsis),";"),Re=(0,ve.Z)("span",{target:"e14vyzsa0"})("color:",(e=>e.theme.gray300),";"),qe=(0,b.tZ)(Re,{children:(0,i.t)("(unnamed span)")});var Oe=s("./app/views/performance/transactionSummary/transactionSpans/spanDetails/spanDetailsTable.tsx");function Ve(e){const{location:t,organization:s,eventView:n,project:o,transactionName:r,spanSlug:i}=e,l=(0,p.ro)(t.query[se.wL.MIN]),c=(0,p.ro)(t.query[se.wL.MAX]);return(0,k.Z)("performance_views.span_summary.view","Performance Views: Span Summary page viewed"),(0,D.Z)({project_platforms:o?(0,u.p9)(t,[o]):""}),(0,b.BX)(g.Fragment,{children:[(0,b.tZ)(a.h4,{children:(0,b.BX)(a.oB,{children:[(0,b.tZ)(T.Z,{organization:s,location:t,transaction:{project:o?.id??"",name:r},tab:z.Z.Spans,spanSlug:i}),(0,b.BX)(a.Dx,{children:[o&&(0,b.tZ)(x.Z,{project:o,avatarSize:28,hideName:!0,avatarProps:{hasTooltip:!0,tooltip:o.slug}}),r]})]})}),(0,b.tZ)(a.uT,{children:(0,b.tZ)(a.or,{fullWidth:!0,children:(0,b.tZ)(y.Z,{eventView:(0,h.zW)(n),orgSlug:s.slug,location:t,referrer:"api.performance.transaction-spans",cursor:"0:0:1",noPagination:!0,children:e=>{let{tableData:a}=e;const p=a?.data?.[0]?.["count()"]??null;return p&&(0,C.r7)("spans.totalCount",1e3,p),(0,b.tZ)(j.Z,{location:t,orgSlug:s.slug,eventView:Xe(n),perSuspect:0,spanOps:[i.op],spanGroups:[i.group],cursor:"0:0:1",minExclusiveTime:l,maxExclusiveTime:c,children:e=>(0,b.tZ)(_,{location:t,orgSlug:s.slug,eventView:n,spanOp:i.op,spanGroup:i.group,limit:10,minExclusiveTime:l,maxExclusiveTime:c,children:a=>(0,b.tZ)(Me,{location:t,organization:s,project:o,eventView:n,spanSlug:i,transactionName:r,totalCount:p,suspectSpansResults:e,spanExamplesResults:a})})})}})})})]})}function Me(e){const{location:t,organization:s,project:a,eventView:o,spanSlug:r,transactionName:i,totalCount:l,suspectSpansResults:p,spanExamplesResults:c}=e,d=p.suspectSpans?.[0],u=c.examples?.[0]?.examples,m=d?.frequency;return(0,b.BX)(g.Fragment,{children:[(0,b.tZ)(n.Z,{features:["performance-span-histogram-view"],children:(0,b.tZ)(ke,{organization:s,location:t,eventView:o})}),(0,b.tZ)(Ee,{spanSlug:r,totalCount:l,suspectSpan:d}),(0,b.tZ)(Ze,{totalCount:m,organization:s,eventView:o,spanSlug:r}),(0,b.tZ)(Oe.Z,{location:t,organization:s,project:a,suspectSpan:d,transactionName:i,isLoading:c.isLoading,examples:u??[],pageLinks:c.pageLinks})]})}function Xe(e){return(e=e.withSorts([{field:E.g.AVG_OCCURRENCE,kind:"desc"}])).fields=[{field:"count()"},{field:"count_unique(id)"},{field:"equation|count() / count_unique(id)"},{field:"sumArray(spans_exclusive_time)"},{field:"percentileArray(spans_exclusive_time, 0.50)"},{field:"percentileArray(spans_exclusive_time, 0.75)"},{field:"percentileArray(spans_exclusive_time, 0.95)"},{field:"percentileArray(spans_exclusive_time, 0.99)"}],e}function He(e){const{location:t,params:s}=e,i=(0,u.JY)(t),g=(0,h.W6)(s.spanSlug),x=(0,c.Z)(),{projects:y}=(0,d.Z)(),Z=(0,p.ro)(t.query.project);if(!(0,l.ri)(Z)||!(0,l.ri)(i)||!(0,l.ri)(g))return(0,m.C1)(x,t),null;const v=y.find((e=>e.id===Z)),f=(0,h.xz)({location:t,transactionName:i});return(0,b.tZ)(r.Z,{title:Ge(i),orgSlug:x.slug,projectSlug:v?.slug,children:(0,b.tZ)(n.Z,{features:["performance-view"],organization:x,renderDisabled:m.Ox,children:(0,b.tZ)(o.Z,{shouldForceProject:(0,l.ri)(v),forceProject:v,specificProjectSlugs:(0,l.ri)(v)?[v.slug]:[],children:(0,b.tZ)(a.T3,{children:(0,b.tZ)(Ve,{location:t,organization:x,eventView:f,project:v,transactionName:i,spanSlug:g})})})})})}function Ge(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,i.t)("Performance")].join(" - "):[(0,i.t)("Summary"),(0,i.t)("Performance")].join(" - ")}Ve.displayName="SpanDetailsContentWrapper",Me.displayName="SpanDetailsContent",He.displayName="SpanDetails"},"./app/views/performance/transactionSummary/transactionSpans/spanDetails/spanDetailsTable.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>S,i:()=>T});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react/index.js"),o=s("./app/components/gridEditable/index.tsx"),r=s("./app/components/gridEditable/sortLink.tsx"),i=s("./app/components/links/link.tsx"),l=s("./app/components/pagination.tsx"),p=s("./app/components/performance/waterfall/rowBar.tsx"),c=s("./app/components/performance/waterfall/utils.tsx"),d=s("./app/components/performanceDuration.tsx"),u=s("./app/components/tooltip.tsx"),m=s("./app/locale.tsx"),h=s("./app/styles/space.tsx"),g=s("./app/utils.tsx"),x=s("./app/utils/discover/fieldRenderers.tsx"),y=s("./app/utils/discover/fields.tsx"),Z=s("./app/utils/formatters.tsx"),v=s("./app/utils/performanceForSentry.tsx"),f=s("./app/views/performance/transactionSummary/utils.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function S(e){const{location:t,organization:s,project:n,examples:r,suspectSpan:i,transactionName:p,isLoading:c,pageLinks:d}=e;if(!(0,g.ri)(r))return null;const u=r.filter((e=>e.spans.length>0)).map((e=>({id:e.id,project:n?.slug,timestamp:1e3*e.finishTimestamp,transactionDuration:1e3*(e.finishTimestamp-e.startTimestamp),spanDuration:e.nonOverlappingExclusiveTime,occurrences:e.spans.length,cumulativeDuration:e.spans.reduce(((e,t)=>e+t.exclusiveTime),0),spans:e.spans})));return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(v.oF,{id:"SpanDetails-SpanDetailsTable",hasData:!!u.length,isLoading:c,children:(0,b.tZ)(o.ZP,{isLoading:c,data:u,columnOrder:C,columnSortBy:[],grid:{renderHeadCell:w,renderBodyCell:_(t,s,p,i)},location:t})}),(0,b.tZ)(l.Z,{pageLinks:d??null})]})}function w(e,t){const s=(0,y.qG)(e.key,j[e.key]);return(0,b.tZ)(r.Z,{title:e.name,align:s,direction:void 0,canSort:!1,generateSortLink:()=>{}})}function _(e,t,s,n){return function(a,o){if("spanDuration"===a.key&&o.transactionDuration)return(0,b.tZ)(T,{spanOp:n?.op??"",spanDuration:o.spanDuration,transactionDuration:o.transactionDuration});let r=(0,x.Js)(a.key,j)(o,{location:e,organization:t});if("id"===a.key){const n=o.spans.length?o.spans.reduce(((e,t)=>e.exclusiveTime>=t.exclusiveTime?e:t)):null,a=(0,f.vd)(s)(t,o,e.query,n.id);r=(0,b.tZ)(i.Z,{to:a,children:r})}return r}}S.displayName="SpanTable",w.displayName="renderHeadCell";const j={id:"string",timestamp:"date",spanDuration:"duration",occurrences:"integer",cumulativeDuration:"duration"},C=[{key:"id",name:(0,m.t)("Event ID"),width:o.z7},{key:"timestamp",name:(0,m.t)("Timestamp"),width:o.z7},{key:"spanDuration",name:(0,m.t)("Span Duration"),width:o.z7},{key:"occurrences",name:(0,m.t)("Count"),width:o.z7},{key:"cumulativeDuration",name:(0,m.t)("Cumulative Duration"),width:o.z7}],k=(0,n.Z)("div",{target:"e1y3mgni1"})("position:relative;display:flex;top:",(0,h.D)(.5),";background-color:",(e=>e.theme.gray100),";"),D=(0,n.Z)(p.e,{target:"e1y3mgni0"})({name:"1ics03r",styles:"position:relative;width:100%;top:0"});function T(e){const{spanOp:t,spanDuration:s,transactionDuration:n}=e,a=s/n,o=a<.7?"right":"inset";return(0,b.tZ)(k,{children:(0,b.tZ)("div",{style:{width:(0,c.yI)(a)},children:(0,b.tZ)(u.u,{title:(0,m._N)("[percentage] of the transaction",{percentage:(0,Z.rl)(a)}),containerDisplayMode:"block",children:(0,b.tZ)(D,{style:{backgroundColor:(0,c.hd)(t)},children:(0,b.tZ)(p.R,{durationDisplay:o,showDetail:!1,children:(0,b.tZ)(d.Z,{abbreviation:!0,milliseconds:s})})})})})})}T.displayName="SpanDurationBar"},"./app/views/performance/transactionSummary/transactionSpans/spanDetails/utils.tsx":(e,t,s)=>{"use strict";function n(e){let{orgSlug:t,transaction:s,query:n,spanSlug:a,projectID:o}=e;const r=function(e){let{orgSlug:t,spanSlug:s}=e;return`/organizations/${t}/performance/summary/spans/${encodeURIComponent(s.op)}:${s.group}/`}({orgSlug:t,spanSlug:a});return{pathname:r,query:{transaction:s,project:o,environment:n.environment,statsPeriod:n.statsPeriod,start:n.start,end:n.end,query:n.query}}}let a;s.d(t,{BP:()=>n,wL:()=>a}),function(e){e.MIN="min",e.MAX="max"}(a||(a={}))},"../node_modules/lodash/assign.js":(e,t,s)=>{var n=s("../node_modules/lodash/_assignValue.js"),a=s("../node_modules/lodash/_copyObject.js"),o=s("../node_modules/lodash/_createAssigner.js"),r=s("../node_modules/lodash/isArrayLike.js"),i=s("../node_modules/lodash/_isPrototype.js"),l=s("../node_modules/lodash/keys.js"),p=Object.prototype.hasOwnProperty,c=o((function(e,t){if(i(t)||r(t))a(t,l(t),e);else for(var s in t)p.call(t,s)&&n(e,s,t[s])}));e.exports=c},"../node_modules/lodash/negate.js":e=>{e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},"../node_modules/lodash/omitBy.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseIteratee.js"),a=s("../node_modules/lodash/negate.js"),o=s("../node_modules/lodash/pickBy.js");e.exports=function(e,t){return o(e,a(n(t)))}}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionSummary_transactionSpans_spanDetails_index_tsx-node_modules_-5c5c41.89bca34403894e59f34ebfd8a4ca15c6.js.map