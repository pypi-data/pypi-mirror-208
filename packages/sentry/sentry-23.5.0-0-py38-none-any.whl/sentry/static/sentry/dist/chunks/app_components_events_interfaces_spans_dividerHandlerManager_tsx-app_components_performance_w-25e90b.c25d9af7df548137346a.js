"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_interfaces_spans_dividerHandlerManager_tsx-app_components_performance_w-25e90b"],{"./app/components/events/interfaces/spans/dividerHandlerManager.tsx":(e,t,o)=>{o.d(t,{$:()=>p,z:()=>c});var s=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(o("../node_modules/core-js/modules/es.array.push.js"),o("../node_modules/react/index.js")),r=o("./app/components/performance/waterfall/utils.tsx"),n=o("./app/utils/userselect.tsx"),a=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=(e,t)=>{e.forEach((e=>{e.current&&t(e.current)}))},l=(0,i.createContext)({dividerPosition:.4,onDragStart:()=>{},setHover:()=>{},addDividerLineRef:()=>(0,i.createRef)(),addGhostDividerLineRef:()=>(0,i.createRef)()});class c extends i.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{dividerPosition:.4}),(0,s.Z)(this,"previousUserSelect",null),(0,s.Z)(this,"dividerHandlePosition",.4),(0,s.Z)(this,"isDragging",!1),(0,s.Z)(this,"dividerLineRefs",[]),(0,s.Z)(this,"ghostDividerLineRefs",[]),(0,s.Z)(this,"hasInteractiveLayer",(()=>!!this.props.interactiveLayerRef.current)),(0,s.Z)(this,"addDividerLineRef",(()=>{const e=(0,i.createRef)();return this.dividerLineRefs.push(e),e})),(0,s.Z)(this,"addGhostDividerLineRef",(()=>{const e=(0,i.createRef)();return this.ghostDividerLineRefs.push(e),e})),(0,s.Z)(this,"setHover",(e=>{this.isDragging||d(this.dividerLineRefs,(t=>{e?t.classList.add("hovering"):t.classList.remove("hovering")}))})),(0,s.Z)(this,"onDragStart",(e=>{!this.isDragging&&"mousedown"===e.type&&this.hasInteractiveLayer()&&(e.stopPropagation(),this.previousUserSelect=(0,n.l)({userSelect:"none",MozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none"}),window.addEventListener("mousemove",this.onDragMove),window.addEventListener("mouseup",this.onDragEnd),this.setHover(!0),this.isDragging=!0,d(this.dividerLineRefs,(e=>{e.style.backgroundColor="rgba(73,80,87,0.75)",e.style.cursor="col-resize"})),d(this.ghostDividerLineRefs,(e=>{e.style.cursor="col-resize";const{parentNode:t}=e;t&&(t.style.display="block")})))})),(0,s.Z)(this,"onDragMove",(e=>{if(!this.isDragging||"mousemove"!==e.type||!this.hasInteractiveLayer())return;const t=(0,r.FV)(this.props.interactiveLayerRef.current),o=(e.pageX-t.x)/t.width;this.dividerHandlePosition=(0,r.uZ)(o,0,1);const s=(0,r.yI)(this.dividerHandlePosition);d(this.ghostDividerLineRefs,(e=>{const{parentNode:t}=e;t&&(t.style.width=`calc(${s} + 0.5px)`)}))})),(0,s.Z)(this,"onDragEnd",(e=>{this.isDragging&&"mouseup"===e.type&&this.hasInteractiveLayer()&&(this.cleanUpListeners(),this.previousUserSelect&&((0,n.l)(this.previousUserSelect),this.previousUserSelect=null),this.isDragging=!1,this.setHover(!1),d(this.dividerLineRefs,(e=>{e.style.backgroundColor="",e.style.cursor=""})),d(this.ghostDividerLineRefs,(e=>{e.style.cursor="";const{parentNode:t}=e;t&&(t.style.display="none")})),this.setState({dividerPosition:this.dividerHandlePosition}))})),(0,s.Z)(this,"cleanUpListeners",(()=>{this.isDragging&&(window.removeEventListener("mousemove",this.onDragMove),window.removeEventListener("mouseup",this.onDragEnd))}))}componentWillUnmount(){this.cleanUpListeners()}render(){const e={dividerPosition:this.state.dividerPosition,setHover:this.setHover,onDragStart:this.onDragStart,addDividerLineRef:this.addDividerLineRef,addGhostDividerLineRef:this.addGhostDividerLineRef};return(0,a.tZ)(l.Provider,{value:e,children:this.props.children})}}c.displayName="Provider";const p=l.Consumer},"./app/components/performance/waterfall/row.tsx":(e,t,o)=>{o.d(t,{E5:()=>d,Qc:()=>a,X2:()=>n});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=o("./app/components/performance/waterfall/constants.tsx"),r=o("./app/components/performance/waterfall/utils.tsx");const n=(0,s.Z)("div",{target:"e10hlosd2"})("display:",(e=>e.visible?"block":"none"),";border-top:",(e=>e.showBorder?`1px solid ${e.theme.border}`:null),";margin-top:",(e=>e.showBorder?"-1px":null),";position:relative;overflow:hidden;min-height:",i.dN,"px;cursor:",(e=>e.cursor??"pointer"),";transition:background-color 0.15s ease-in-out;&:last-child{&>[data-component='span-detail']{border-bottom:none!important;}}"),a=(0,s.Z)("div",{target:"e10hlosd1"})("display:flex;position:relative;height:",i.dN,"px;overflow:hidden;user-select:none;&:hover>div[data-type='span-row-cell']{background-color:",(e=>e.showDetail?e.theme.textColor:e.theme.backgroundSecondary),";}"),d=(0,s.Z)("div",{target:"e10hlosd0"})("position:relative;height:100%;overflow:hidden;background-color:",(e=>(0,r.dF)(e)),";transition:background-color 125ms ease-in-out;color:",(e=>e.showDetail?e.theme.background:"inherit"),";display:flex;align-items:center;")},"./app/components/performance/waterfall/rowDivider.tsx":(e,t,o)=>{o.d(t,{Hr:()=>l,bt:()=>m,cS:()=>p,kP:()=>a,mk:()=>h,xN:()=>d});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=o("./app/icons/index.tsx"),r=o("./app/styles/space.tsx"),n=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,s.Z)("div",{target:"envbil53"})({name:"zxn8uc",styles:"position:relative;min-width:1px"}),d=(0,s.Z)("div",{target:"envbil52"})("background-color:",(e=>e.showDetail?e.theme.textColor:e.theme.border),";position:absolute;height:100%;width:1px;transition:background-color 125ms ease-in-out;z-index:",(e=>e.theme.zIndex.traceView.dividerLine),";&:after{content:'';z-index:-1;position:absolute;left:-2px;top:0;width:5px;height:100%;}&.hovering{background-color:",(e=>e.theme.textColor),";width:3px;transform:translateX(-1px);margin-right:-2px;cursor:ew-resize;&:after{left:-2px;width:7px;}}"),l=(0,s.Z)("div",{target:"envbil51"})({name:"19s8nj4",styles:"position:absolute;width:100%;height:100%"}),c=(0,s.Z)("div",{target:"envbil50"})("position:absolute;margin:",(0,r.D)(.25),";left:-11px;background:",(e=>e.fillBackground?e.theme[e.color]:e.theme.background),";width:",(0,r.D)(3),";height:",(0,r.D)(3),";border:1px solid ",(e=>e.theme[e.color]),";border-radius:50%;z-index:",(e=>e.theme.zIndex.traceView.dividerLine),";display:flex;align-items:center;justify-content:center;");function p(){return(0,n.tZ)(c,{color:"error",children:(0,n.tZ)(i.zC,{color:"errorText",size:"xs"})})}function h(e){let{expanded:t,onClick:o}=e;return(0,n.tZ)(c,{"data-test-id":"embedded-transaction-badge",color:"border",onClick:e=>{e.stopPropagation(),e.preventDefault(),o()},children:t?(0,n.tZ)(i.JZ,{color:"textColor",size:"xs"}):(0,n.tZ)(i.N_,{color:"textColor",size:"xs"})})}function m(){return(0,n.tZ)(c,{"data-test-id":"profile-badge",color:"activeText",fillBackground:!0,children:(0,n.tZ)(i.eb,{color:"background",size:"xs"})})}p.displayName="ErrorBadge",h.displayName="EmbeddedTransactionBadge",m.displayName="ProfileBadge"},"./app/components/performance/waterfall/rowTitle.tsx":(e,t,o)=>{o.d(t,{$D:()=>d,Wh:()=>n,mw:()=>r,rv:()=>a});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=o("./app/components/performance/waterfall/constants.tsx");const r=(0,s.Z)("div",{target:"e1b0qr8j3"})("display:flex;align-items:center;height:",i.dN,"px;position:absolute;left:0;top:0;width:100%;user-select:none;"),n=(0,s.Z)("div",{target:"e1b0qr8j2"})("position:relative;height:100%;font-size:",(e=>e.theme.fontSizeSmall),";white-space:nowrap;display:flex;flex:1;align-items:center;"),a=(0,s.Z)("span",{target:"e1b0qr8j1"})("color:",(e=>e.errored?e.theme.error:"inherit"),";"),d=(0,s.Z)("span",{target:"e1b0qr8j0"})("color:",(e=>e.color),";")},"./app/components/performance/waterfall/treeConnector.tsx":(e,t,o)=>{o.d(t,{DN:()=>p,Ll:()=>l,U1:()=>h,UV:()=>c,Y9:()=>d,jd:()=>u,rw:()=>m});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=o("./app/components/performance/waterfall/constants.tsx"),r=o("./app/components/performance/waterfall/utils.tsx"),n=o("./app/icons/index.tsx"),a=o("./app/styles/space.tsx");const d=30,l=d+16,c=(0,s.Z)("div",{target:"e1ybt86x4"})("height:250%;border-left:2px ",(e=>e.orphanBranch?"dashed":"solid")," ",(e=>e.theme.border),";position:absolute;top:0;"),p=(0,s.Z)("div",{target:"e1ybt86x3"})("height:",(e=>e.isLast?i.dN/2+1:i.dN),"px;width:100%;border-left:",(e=>`2px ${e.orphanBranch?"dashed":"solid"} ${e.theme.border};`),";position:absolute;top:0;",(e=>e.isLast?`\n      border-bottom: 2px ${e.orphanBranch?"dashed":"solid"} ${e.theme.border};\n      border-bottom-left-radius: ${e.theme.borderRadius};`:`\n      &:before {\n        content: '';\n        height: 2px;\n        left: -2px;\n        border-bottom: 2px ${e.orphanBranch?"dashed":"solid"} ${e.theme.border};\n        width: calc(100% - 2px);\n        position: absolute;\n        bottom: calc(50% - 1px);\n      }`)," &:after{content:'';background-color:",(e=>e.theme.border),";border-radius:50%;height:6px;width:6px;position:absolute;right:0;top:",i.dN/2-3,"px;}"),h=(0,s.Z)("div",{target:"e1ybt86x2"})("height:16px;white-space:nowrap;min-width:30px;display:flex;align-items:center;justify-content:center;border-radius:99px;padding:0px ",(0,a.D)(.5),";transition:all 0.15s ease-in-out;font-size:10px;line-height:0;z-index:1;box-shadow:",(e=>e.theme.dropShadowLight),";",(e=>(0,r.uu)(e)),";"),m=(0,s.Z)("div",{target:"e1ybt86x1"})("position:relative;height:",i.dN,"px;width:",40,"px;min-width:",40,"px;margin-right:",(0,a.D)(1),";z-index:",(e=>e.theme.zIndex.traceView.spanTreeToggler),";display:flex;justify-content:flex-end;align-items:center;"),u=(0,s.Z)(n.g6,{target:"e1ybt86x0"})("width:7px;margin-left:",(0,a.D)(.25),";")},"./app/utils/userselect.tsx":(e,t,o)=>{o.d(t,{l:()=>s});const s=e=>{const t={userSelect:document.body.style.userSelect,MozUserSelect:document.body.style.MozUserSelect,msUserSelect:document.body.style.msUserSelect,webkitUserSelect:document.body.style.webkitUserSelect};return document.body.style.userSelect=e.userSelect||"",document.body.style.MozUserSelect=e.MozUserSelect||"",document.body.style.msUserSelect=e.msUserSelect||"",document.body.style.webkitUserSelect=e.webkitUserSelect||"",t}}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_interfaces_spans_dividerHandlerManager_tsx-app_components_performance_w-25e90b.169a6eb0a528a8b6553783864880e17f.js.map