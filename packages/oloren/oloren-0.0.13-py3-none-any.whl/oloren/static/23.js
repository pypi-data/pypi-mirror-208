"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[23],{6065:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var n=a(5e3),l=a(560),o=a(1663),d=a(3082),i=a(9048),r=a(8199),s=a(5988),c=a(9091),u=a(7976),p=a.n(u),m=a(4945),g=a(3139),y=a(9577),f=a(2949),h=a(2699),v=a.n(h),_=a(6837),N=a.n(_),E=a(3197),k=a.n(E),w=a(4383),Z=a.n(w),C=a(7600),x=a.n(C),P=a(5918),b=a.n(P),S=a(9944),I={};I.styleTagTransform=b(),I.setAttributes=Z(),I.insert=k().bind(null,"head"),I.domAPI=N(),I.insertStyleElement=x(),v()(S.Z,I),S.Z&&S.Z.locals&&S.Z.locals,a(2856);const T="SPECIALNULLVALUEDONOTSETEVER",j=m.z.array(m.z.any());function B({arg:e,callUpdate:t,argValue:a,setArg:n,setNode:d,idx:i,optional:r=!1}){const s=(0,u.useRef)(null),c=a?a.mode:"File"===e.type?"input":"node",m=a?a.value:a,g=e=>{n&&n({mode:c,value:e})};return(0,u.useEffect)((()=>{!a&&r&&n&&g(T)}),[a,r,n]),(0,u.useEffect)((()=>{"input"===c&&s.current&&s.current.offsetTop&&s.current.clientHeight&&(d((e=>{const t={...e.input_handles?e.input_handles:{},[i]:(s.current?.offsetTop??0)+(s.current?.clientHeight??0)/2};return{...e,input_handles:t,num_inputs:Object.keys(t).length}})),t())}),[c,s]),(0,u.useEffect)((()=>{"node"===c&&(d((e=>{const t={...e.input_handles?e.input_handles:{}};return t[i]&&delete t[i],{...e,num_inputs:Object.keys(t).length,input_handles:t}})),t())}),[c]),"Option"===e.type?p().createElement(B,{arg:{name:e.name,ty:e.ty.inner,type:e.ty._type},callUpdate:t,argValue:a,setArg:n,setNode:d,idx:i,optional:!0}):p().createElement("div",{className:"flex flex-row space-x-2 items-center w-full",ref:s},p().createElement(O,{className:"nodrag",onClick:e=>{e.stopPropagation()},size:"small",value:c,onChange:e=>{"node"===e?(e=>{n&&n({mode:e,value:m})})(e.toString()):((e,t)=>{n&&n({mode:e,value:t})})(e.toString(),T)},options:[{label:p().createElement(l.Z,{title:"External Input"},p().createElement(U,null)),value:"input"},{label:p().createElement(l.Z,{title:"UI Popup"},p().createElement(L,null)),value:"ui",disabled:!0},{label:p().createElement(l.Z,{title:"Hardcode"},p().createElement(V,null)),value:"node",disabled:"File"===e.type}]}),p().createElement(G,null,e.name,r?null:p().createElement("span",{style:{color:"red"}},"*")),(()=>{switch(e.type){case"Choice":return p().createElement(z,{className:"nodrag",disabled:"node"!==c,value:m&&m!=T?m:void 0,options:e.ty.choices.map((e=>({value:e,label:e}))),onChange:e=>{g(e)}});case"Num":return p().createElement(D,{className:"nodrag",disabled:"node"!==c,min:e.ty.min_value??void 0,max:e.ty.max_value??void 0,value:m&&m!=T?m:void 0,onChange:e=>{e&&g(e)}});case"String":return e.ty.secret?p().createElement(F,{className:"nodrag",disabled:"node"!==c,value:m&&m!=T?m:void 0,onChange:e=>{g(e.target.value)}}):p().createElement(H,{className:"nodrag",disabled:"node"!==c,value:m&&m!=T?m:void 0,onChange:e=>{g(e.target.value)}});case"Bool":return p().createElement(o.Z,{disabled:"node"!==c,onChange:e=>{g(e)},checked:m&&m!=T?m:e.ty.default});case"File":return null;default:throw e.type,new Error("Unhandled argument type")}})())}const A=function({callAfterUpdateInpOuts:e=(()=>{}),node:t,setNode:a}){const n=j.safeParse(t.data).success?t.data:Array(t.metadata.args.length).fill(null),l=j.length(t.metadata.args.length).safeParse(t.data).success;return(0,u.useEffect)((()=>{l||(a((e=>({...e,data:Array(t.metadata.args.length).fill(null),operator:`${t.metadata.lambda}/operator/${t.metadata.operator}`,num_inputs:0,num_outputs:t.metadata.num_outputs}))),e())}),[t]),p().createElement(R,null,t.metadata.name?p().createElement($,null,t.metadata.name):null,t.metadata.description?p().createElement(d.Z.Paragraph,null,t.metadata.description):null,t.metadata.args.map(((t,o)=>p().createElement(B,{arg:t,key:o,idx:o,callUpdate:e,argValue:n[o],setNode:a,setArg:l?e=>{a((t=>({...t,data:t.data.map(((t,a)=>a===o?e:t))})))}:void 0}))))};var O=(0,n.ZP)(i.Z).withConfig({displayName:"BaseNode___StyledSegmented",componentId:"sc-vkkiaj-0"})({pointerEvents:"auto",cursor:"pointer"}),U=(0,n.ZP)(g.Z).withConfig({displayName:"BaseNode___StyledLoginOutlined",componentId:"sc-vkkiaj-1"})({paddingTop:"3px"}),L=(0,n.ZP)(y.Z).withConfig({displayName:"BaseNode___StyledPlayCircleOutlined",componentId:"sc-vkkiaj-2"})({paddingTop:"3px"}),V=(0,n.ZP)(f.Z).withConfig({displayName:"BaseNode___StyledPicCenterOutlined",componentId:"sc-vkkiaj-3"})({paddingTop:"3px"}),G=(0,n.ZP)(d.Z.Text).withConfig({displayName:"BaseNode___StyledTypographyText",componentId:"sc-vkkiaj-4"})({width:"fit-content",whiteSpace:"nowrap"}),z=(0,n.ZP)(r.Z).withConfig({displayName:"BaseNode___StyledSelect",componentId:"sc-vkkiaj-5"})({flexGrow:"1"}),D=(0,n.ZP)(s.Z).withConfig({displayName:"BaseNode___StyledInputNumber",componentId:"sc-vkkiaj-6"})({flexGrow:"1"}),F=(0,n.ZP)(c.Z.Password).withConfig({displayName:"BaseNode___StyledInputPassword",componentId:"sc-vkkiaj-7"})({flexGrow:"1"}),H=(0,n.ZP)(c.Z).withConfig({displayName:"BaseNode___StyledInput",componentId:"sc-vkkiaj-8"})({flexGrow:"1"}),R=(0,n.ZP)("div").withConfig({displayName:"BaseNode___StyledDiv",componentId:"sc-vkkiaj-9"})({display:"flex",width:"24rem",flexDirection:"column","> :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":"0",marginTop:"calc(0.5rem * calc(1 - var(--tw-space-y-reverse)))",marginBottom:"calc(0.5rem * var(--tw-space-y-reverse))"}}),$=(0,n.ZP)(d.Z.Text).withConfig({displayName:"BaseNode___StyledTypographyText2",componentId:"sc-vkkiaj-10"})({fontWeight:"700"})},9944:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(4496),l=a.n(n),o=a(5125),d=a.n(o)()(l());d.push([e.id,"svg {\n  display: inline-block !important;\n  vertical-align: baseline !important;\n}\n",""]);const i=d}}]);